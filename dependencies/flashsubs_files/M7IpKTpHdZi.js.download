if (self.CavalryLogger) { CavalryLogger.start_js(["LjBUp"]); }

__d('AbstractTextArea.react',['cx','AbstractTextField.react','React'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').Component;i=babelHelpers.inherits(l,k);j=i&&i.prototype;l.prototype.render=function(){'use strict';return c('React').createElement(c('AbstractTextField.react'),this.props,c('React').createElement('textarea',{className:"_58an",onClick:this.props.onClick,onKeyUp:this.props.onKeyUp,rows:this.props.rows,tabIndex:this.props.tabIndex,ref:function(m){return this.$AbstractTextArea1=m;}.bind(this)}));};l.prototype.focusInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.focus();};l.prototype.blurInput=function(){'use strict';this.$AbstractTextArea1&&this.$AbstractTextArea1.blur();};l.prototype.getTextFieldDOM=function(){'use strict';return this.$AbstractTextArea1;};l.prototype.getValue=function(){'use strict';return this.$AbstractTextArea1?this.$AbstractTextArea1.value:'';};function l(){'use strict';i.apply(this,arguments);}l.propTypes=c('AbstractTextField.react').propTypes;f.exports=l;}),null);
__d('MessengerGamesPlayGameLink.react',['BootloadOnRender.react','InstantGameContextType','JSResource','LazyComponent.react','Link.react','MercuryIDs','QuicksilverSources','React'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={playerOpen:false},this.$MessengerGamesPlayGameLink1=function(event){if(this.props.onClick)this.props.onClick(event);this.$MessengerGamesPlayGameLink3();}.bind(this),this.$MessengerGamesPlayGameLink2=function(){this.setState({playerOpen:false});}.bind(this),m;}k.prototype.render=function(){var l=c('MercuryIDs').getThreadFBIDFromThreadID(this.props.threadID),m=this.props.contextType,n=this.props.contextSourceID;if(!m){m=c('InstantGameContextType').THREAD;n=l;}return c('React').createElement('div',null,c('React').createElement(c('Link.react'),{className:this.props.className,onClick:this.$MessengerGamesPlayGameLink1},this.props.title),this.state.playerOpen?c('React').createElement(c('BootloadOnRender.react'),{loader:c('JSResource')('MessengerGamesQuicksilverPlayerContainer.react').__setRef('MessengerGamesPlayGameLink.react'),placeholder:c('React').createElement('div',null),component:c('React').createElement(c('LazyComponent.react'),{contextType:m,contextSourceID:n,entryPointData:this.props.payload,gameID:this.props.gameID,onHide:this.$MessengerGamesPlayGameLink2,source:this.props.source||c('QuicksilverSources').UNKNOWN,sourceID:l})}):null);};k.prototype.$MessengerGamesPlayGameLink3=function(){this.setState({playerOpen:true});};k.propTypes={className:j.string,contextSourceID:j.string,contextType:j.string.isRequired,gameID:j.string.isRequired,payload:j.string,source:j.string,threadID:j.string.isRequired,title:j.string.isRequired};f.exports=k;}),null);
__d("GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1570574486349284";};j.getQueryID=function(){"use strict";return "389945858066688";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('Popup',[],(function a(b,c,d,e,f,g){var h={open:function i(j,k,l,m){var n=document.body,o='screenX' in window?window.screenX:window.screenLeft,p='screenY' in window?window.screenY:window.screenTop,q='outerWidth' in window?window.outerWidth:n.clientWidth,r='outerHeight' in window?window.outerHeight:n.clientHeight-22,s=Math.floor(o+(q-k)/2),t=Math.floor(p+(r-l)/2.5),u=['width='+k,'height='+l,'left='+s,'top='+t,'scrollbars'];return window.open(j,m||'_blank',u.join(','));}};f.exports=h;}),null);
__d('PopupWindow',['DOMDimensions','DOMQuery','Layer','Popup','getViewportDimensions'],(function a(b,c,d,e,f,g){var h={_opts:{allowShrink:true,strategy:'vector',timeout:100,widthElement:null},init:function i(j){Object.assign(h._opts,j);setInterval(h._resizeCheck,h._opts.timeout);},_resizeCheck:function i(){var j=c('getViewportDimensions')(),k=h._getDocumentSize(),l=c('Layer').getTopmostLayer();if(l){var m=l.getRoot().firstChild,n=c('DOMDimensions').getElementDimensions(m);n.height+=c('DOMDimensions').measureElementBox(m,'height',true,true,true);n.width+=c('DOMDimensions').measureElementBox(m,'width',true,true,true);k.height=Math.max(k.height,n.height);k.width=Math.max(k.width,n.width);}var o=k.height-j.height,p=k.width-j.width;if(p<0&&!h._opts.widthElement)p=0;p=p>1?p:0;if(!h._opts.allowShrink&&o<0)o=0;if(o||p)try{window.console&&window.console.firebug;window.resizeBy(p,o);if(p)window.moveBy(p/-2,0);}catch(q){}},_getDocumentSize:function i(){var j=c('DOMDimensions').getDocumentDimensions();if(h._opts.strategy==='offsetHeight')j.height=document.body.offsetHeight;if(h._opts.widthElement){var k=c('DOMQuery').scry(document.body,h._opts.widthElement)[0];if(k)j.width=c('DOMDimensions').getElementDimensions(k).width;}var l=b.Dialog;if(l&&l.max_bottom&&l.max_bottom>j.height)j.height=l.max_bottom;return j;},open:function i(j,k,l,m){return c('Popup').open(j,l,k,m);}};f.exports=h;}),null);
__d("XMNCommerceCTAPostProcessController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/cta\/postprocess\/",{cta_id:{type:"String",required:true},message_id:{type:"String"}});}),null);
__d('MNCommerceCTAProcessor',['AsyncRequest','GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation','PopupWindow','XMNCommerceCTAPostProcessController'],(function a(b,c,d,e,f,g){'use strict';h.prototype.process=function(i){var j=arguments.length<=1||arguments[1]===undefined?null:arguments[1],k=c('PopupWindow').open('',500,1024),l=c('XMNCommerceCTAPostProcessController').getURIBuilder().setString('cta_id',i).setString('message_id',j).getURI();new (c('AsyncRequest'))().setURI(l).setMethod('post').setHandler(function(m){return k.location=m.payload;}).send();};h.prototype.postHandle=function(i,j){var k=c('GraphQLMessengerPlatformCtaPostHandlingWebGraphQLMutation').getURI({cta_id:i,message_id:j});new (c('AsyncRequest'))().setURI(k).send();};function h(){}f.exports=new h();}),null);
__d('MNCommerceCallToActionGenericIntentHandler',['cx','fbt','Link.react','MNCommerceCTAProcessor','React','Tooltip','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(){this.fallbackOnClick=function(){};this.onClickHook=function(){};this.threadID=null;}j.prototype.setFallbackOnClick=function(k){this.fallbackOnClick=k;return this;};j.prototype.setThreadID=function(k){if(k)this.threadID=k;return this;};j.prototype.setOnClickHook=function(k){this.onClickHook=k;return this;};j.prototype.renderForWebLink=function(k,l){var m=k.onClick||this.fallbackOnClick,n=function(event){this.onClickHook();m(event);c('MNCommerceCTAProcessor').postHandle(k.id,null);}.bind(this);return c('React').createElement(c('Link.react'),{className:l,href:k.onClick?null:k.action_link||k.action_url,key:k.title+k.id,onClick:n,target:'_blank'},k.translated_title||k.title||k.action_title);};j.prototype.renderForNativeLink=function(k,l){var m=i._("To use this feature, use the Messenger app.");return c('React').createElement('div',babelHelpers['extends']({className:c('joinClasses')("_3cno",l),'data-tooltip-alignh':'center','data-tooltip-position':'above',key:k.title},c('Tooltip').propsFor(m)),k.translated_title||k.title||k.action_title);};f.exports=j;}),null);
__d('BuyOnMessengerCallToActionIntentHandler',['Link.react','MNCommerceCallToActionGenericIntentHandler','React'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MNCommerceCallToActionGenericIntentHandler'));i=h&&h.prototype;j.prototype.renderForWebLink=function(k,l){return this.$BuyOnMessengerCallToActionIntentHandler1(k,l);};j.prototype.renderForNativeLink=function(k,l){return this.$BuyOnMessengerCallToActionIntentHandler1(k,l);};j.prototype.$BuyOnMessengerCallToActionIntentHandler1=function(k,l){return c('React').createElement(c('Link.react'),{className:l,key:k.title+k.id,onClick:k.onClick},k.translated_title||k.title);};function j(){h.apply(this,arguments);}f.exports=new j();}),null);
__d('MMeCallToActionIntentHandler',['MNCommerceCallToActionGenericIntentHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('MNCommerceCallToActionGenericIntentHandler'));i=h&&h.prototype;j.prototype.renderForNativeLink=function(k,l){return this.renderForWebLink(k,l);};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('MNCommerceCallToActionAsyncIntentHandler',['AsyncRequest','Link.react','MNCommerceCallToActionGenericIntentHandler','React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('MNCommerceCallToActionGenericIntentHandler'));i=h&&h.prototype;j.prototype.renderForWebLink=function(k,l){'use strict';return this.$MNCommerceCallToActionAsyncIntentHandler1(k,l);};j.prototype.renderForNativeLink=function(k,l){'use strict';return this.$MNCommerceCallToActionAsyncIntentHandler1(k,l);};j.prototype.$MNCommerceCallToActionAsyncIntentHandler1=function(k,l){'use strict';var m=function n(){new (c('AsyncRequest'))(k.action_link).send();};return c('React').createElement(c('Link.react'),{className:l,key:k.title+k.id,onClick:m},k.translated_title||k.title);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('MessengerPlayGameCallToActionHelper',['URI','idx'],(function a(b,c,d,e,f,g){f.exports={parseMetadata:function h(i){var j,k,l,m,n=(j=i)!=null?j.instantgame_gameid:j;if(!n)return null;var o=(k=i)!=null?k.instantgame_payload:k,p=(l=i)!=null?l.instantgame_context_type:l,q=(m=i)!=null?m.instantgame_context_id:m;return {contextSourceID:q,contextType:p,gameID:n,payload:o};},parseActionLink:function h(i){var j=new (c('URI'))(i).getQueryData();if(!j)return null;var k=j.game_id;if(!k)return null;var l=j.payload,m=j.context_type,n=j.context_id;return {contextSourceID:n,contextType:m,gameID:k,payload:l};}};}),null);
__d('MessengerPlayGameCallToActionIntentHandler',['cx','invariant','InstantGameContextType','MercuryIDs','MessengerPlayGameCallToActionHelper','MNCommerceCallToActionGenericIntentHandler','MessengerGamesPlayGameLink.react','QuicksilverSources','React','idx','joinClasses'],(function a(b,c,d,e,f,g,h,i){var j,k;j=babelHelpers.inherits(l,c('MNCommerceCallToActionGenericIntentHandler'));k=j&&j.prototype;l.prototype.renderForWebLink=function(m,n){'use strict';return this.$MessengerPlayGameCallToActionIntentHandler1(m,n);};l.prototype.renderForNativeLink=function(m,n){'use strict';return this.$MessengerPlayGameCallToActionIntentHandler1(m,n);};l.prototype.$MessengerPlayGameCallToActionIntentHandler1=function(m,n){var o,p;'use strict';var q=this.threadID||'',r=(o=m)!=null?o.instantgame_metadata:o,s=(p=m)!=null?p.action_link:p,t=null;if(r){t=c('MessengerPlayGameCallToActionHelper').parseMetadata(r);}else if(s)t=c('MessengerPlayGameCallToActionHelper').parseActionLink(s);if(!t)return c('React').createElement('div',null);var u=t.gameID;u||i(0);var v=t.contextSourceID,w=t.contextType;if(!w){w=c('InstantGameContextType').THREAD;v=c('MercuryIDs').getThreadFBIDFromThreadID(q);}return c('React').createElement(c('MessengerGamesPlayGameLink.react'),{className:c('joinClasses')(n,"_fy2"),contextSourceID:v,contextType:w,gameID:u,key:m.title+m.id,onClick:this.onClickHook,payload:t.payload||undefined,source:c('QuicksilverSources').MESSENGER_CALL_TO_ACTION,threadID:q,title:m.translated_title||m.title});};function l(){'use strict';j.apply(this,arguments);}f.exports=l;}),null);
__d('MNCommerceCallToActionHandlerMap',['BuyOnMessengerCallToActionIntentHandler','MMeCallToActionIntentHandler','MNCommerceCallToActionAsyncIntentHandler','MNCommerceCallToActionGenericIntentHandler','MessengerPlayGameCallToActionIntentHandler','URI'],(function a(b,c,d,e,f,g){'use strict';var h={'fb-messenger://payments/buy/mc?':c('BuyOnMessengerCallToActionIntentHandler'),'fb-messenger://business/commerce/':c('BuyOnMessengerCallToActionIntentHandler'),'fb-messenger://instant_games/play':c('MessengerPlayGameCallToActionIntentHandler'),'https://m.me/':c('MMeCallToActionIntentHandler')};function i(j){for(var k in h)if(j.startsWith(k)){var l=h[k];return new l();}if(new (c('URI'))(j).getQueryData().async)return new (c('MNCommerceCallToActionAsyncIntentHandler'))();return new (c('MNCommerceCallToActionGenericIntentHandler'))();}f.exports={getHandler:i};}),null);
__d('BrowserExtensionsAskPermissionsChatTabDialog.react',['cx','BrowserExtensionsPermissionsHelper','Image.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogFooter.react'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement(c('XUIDialogBody.react'),null,c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c('React').createElement(c('XUIDialogFooter.react'),null,c('React').createElement(c('XUIDialogButton.react'),{action:'cancel',label:this.props.rejectButtonTitle}),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',label:this.props.confirmButtonTitle,onClick:function(){c('BrowserExtensionsPermissionsHelper').grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback);}.bind(this),use:'confirm'})));};function l(){i.apply(this,arguments);}l.propTypes={pageID:k.string.isRequired,threadID:k.string.isRequired,message:k.string.isRequired,profileImageUrl:k.string.isRequired,confirmButtonTitle:k.string.isRequired,rejectButtonTitle:k.string.isRequired,permissionToGrant:k.string.isRequired,successCallback:k.func.isRequired,errorCallback:k.func.isRequired};f.exports=l;}),null);
__d('BrowserExtensionsAskPermissionsMessengerDialog.react',['cx','BrowserExtensionsPermissionsHelper','Image.react','LayerFadeOnHide','MessengerDialog.react','messengerDialogsRe','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').jsComponent,l=c('React').PropTypes;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.state={clickedConfirm:false},this.$BrowserExtensionsAskPermissionsMessengerDialog1=function(s){if(!s){if(!this.state.clickedConfirm)this.props.successCallback({permissions:this.props.grantedPermissions});c('messengerDialogsRe').removeDialog();}}.bind(this),o;}m.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$BrowserExtensionsAskPermissionsMessengerDialog1,shown:true},c('React').createElement(k,null,c('React').createElement('div',null,c('React').createElement(c('Image.react'),{className:"_5_jw",src:this.props.profileImageUrl})),this.props.message),c('React').createElement(c('MessengerDialogFooter.react'),null,c('React').createElement(c('MessengerDialogCancelButton.react'),{label:this.props.rejectButtonTitle}),c('React').createElement(c('MessengerDialogButton.react'),{action:'confirm',label:this.props.confirmButtonTitle,onClick:function(){this.setState({clickedConfirm:true},function(){c('messengerDialogsRe').removeDialog();c('BrowserExtensionsPermissionsHelper').grantPermissions(this.props.pageID,this.props.threadID,this.props.permissionToGrant,this.props.successCallback,this.props.errorCallback);}.bind(this));}.bind(this),type:'primary'})));};m.propTypes={pageID:l.string.isRequired,threadID:l.string.isRequired,message:l.string.isRequired,profileImageUrl:l.string.isRequired,confirmButtonTitle:l.string.isRequired,rejectButtonTitle:l.string.isRequired,permissionToGrant:l.string.isRequired,grantedPermissions:l.arrayOf(l.string).isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=m;}),null);
__d('errorDesc',['fbt','invariant'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k){i(0);}j.withParams=function(k,l){i(0);};j._=function(k,l){return k(h,l);};f.exports=j;}),null);
__d('BrowserExtensionsErrorHandler',['errorCode','errorDesc'],(function a(b,c,d,e,f,g,h,i){'use strict';var j={getExternalError:function k(l){switch(l){case 2018062:return {code:2018062,message:i._(function(m,n){return m._("The URL provided is not whitelisted for messenger extensions");},{})};case 2018067:return {code:2018067,message:i._(function(m,n){return m._("Pages using Messenger Extensions must use https and not include any port.");},{})};case 2018164:return {code:2018164,message:i._(function(m,n){return m._("Please pass in a valid app ID.");},{})};case 2018166:return {code:2018166,message:i._(function(m,n){return m._("Permission not valid to call the SDK API.");},{})};case 2018159:return {code:2018159,message:i._(function(m,n){return m._("Invalid payload were passed to the share flow.");},{})};case 2018160:return {code:2018160,message:i._(function(m,n){return m._("The provided open graph template is not supported.");},{})};case 2018161:return {code:2018161,message:i._(function(m,n){return m._("Open graph URL in the preview content does not match the one in share content.");},{})};case 2018053:return {code:2018053,message:i._(function(m,n){return m._("Element button title cannot be empty.");},{})};case 2018125:return {code:2018125,message:i._(function(m,n){return m._("Invalid URL button fields provided. Please check documentation for details.");},{})};case 2018041:return {code:2018041,message:i._(function(m,n){return m._("Web url cannot be empty for url type button");},{})};case 2018158:return {code:2018158,message:i._(function(m,n){return m._("There was a problem creating the share attachment. Please try again later.");},{})};case 2018142:return {code:2018142,message:i._(function(m,n){return m._("Beginshare parameters are not valid.");},{})};case 2018034:return {code:2018034,message:i._(function(m,n){return m._("Message cannot be empty, must provide valid attachment or text");},{})};case 2018167:return {code:2018167,message:i._(function(m,n){return m._("Another API operation is in progress.");},{})};case 2018012:return {code:2018012,message:i._(function(m,n){return m._("Unexpected internal error");},{})};case 2018154:default:return {code:2018154,message:i._(function(m,n){return m._("Messenger Extensions unexpected error.");},{})};}}};f.exports=j;}),null);
__d("MessengerPlatformGrantPermissionsMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1544630875548192";};j.getQueryID=function(){"use strict";return "611085139087610";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d("MessengerPlatformPermissionWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1068951296538364";};j.getQueryID=function(){"use strict";return "1526731417350771";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('BrowserExtensionsPermissionsHelper',['AsyncRequest','BrowserExtensionsAskPermissionsChatTabDialog.react','BrowserExtensionsAskPermissionsMessengerDialog.react','DialogX','BrowserExtensionsErrorHandler','MessengerPlatformGrantPermissionsMutationWebGraphQLMutation','LayerDestroyOnHide','LayerFadeOnHide','LayerHideOnBlur','messengerDialogsRe','MessengerEnvironment','MessengerPlatformPermissionWebGraphQLQuery','React','idx'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l,m,n,o,p,q,r,s){var t;if(c('MessengerEnvironment').messengerui){c('messengerDialogsRe').showDialog(function(){return c('React').createElement(c('BrowserExtensionsAskPermissionsMessengerDialog.react'),{pageID:j,threadID:k,message:l,profileImageUrl:m,confirmButtonTitle:n,rejectButtonTitle:o,permissionToGrant:p,grantedPermissions:q,successCallback:r,errorCallback:s});});}else (function(){var u={width:400,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerFadeOnHide'),c('LayerHideOnBlur')]},v=c('React').createElement(c('BrowserExtensionsAskPermissionsChatTabDialog.react'),{pageID:j,threadID:k,message:l,profileImageUrl:m,confirmButtonTitle:n,rejectButtonTitle:o,permissionToGrant:p,successCallback:r,errorCallback:s}),w=new (c('DialogX'))(u,v),x=false;w.subscribe('confirm',function(){x=true;w.hide();});w.subscribe('hide',function(){if(!x)r({permissions:q});});w.show();})();}var i={askPermissions:function j(k,l,m,n,o){var p=c('MessengerPlatformPermissionWebGraphQLQuery').getURI({params:{page_id:k,thread_id:l},selected_permissions:[m]});new (c('AsyncRequest'))().setURI(p).setHandler(function(q){var r,s,t,u=(r=q)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.messenger_platform_permission)!=null?(r=r.selected_permission_infos)!=null?r[0]:r:r:r:r:r,v=(s=q)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?s.granted_permission_infos:s:s:s:s,w=(t=q)!=null?(t=t.payload)!=null?(t=t.errors)!=null?t[0]:t:t:t;if(!v){var x=w?w.code:null;o(c('BrowserExtensionsErrorHandler').getExternalError(x));}else{var y=v.map(function(aa){return aa.permission_type;});if(!u||u.is_granted){n({permissions:y});}else{var z=u.dialog_info;h(k,l,z.title,z.profile_image.uri,z.confirm_button_text,z.reject_button_text,m,y,n,o);}}}).send();},grantPermissions:function j(k,l,m,n,o){var p=c('MessengerPlatformGrantPermissionsMutationWebGraphQLMutation').getURI({page_id:k,thread_id:l,permissions:[m]});new (c('AsyncRequest'))().setURI(p).setHandler(function(q){var r,s,t=(r=q)!=null?(r=r.payload)!=null?(r=r.data)!=null?(r=r.messenger_platform_grant_permissions)!=null?r.granted_permission_infos:r:r:r:r,u=(s=q)!=null?(s=s.payload)!=null?(s=s.errors)!=null?s[0]:s:s:s;if(t){var v=t.map(function(x){return x.permission_type;});n({permissions:v});}else{var w=u?u.code:null;o(c('BrowserExtensionsErrorHandler').getExternalError(w));}}).send();}};f.exports=i;}),null);
__d("MessengerPlatformBeginShareMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1467034453348931";};j.getQueryID=function(){"use strict";return "294980674291966";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('BrowserExtensionsShareChatTabDialog.react',['cx','fbt','AbstractTextArea.react','AsyncRequest','MessengerPlatformBeginShareMutationWebGraphQLMutation','CurrentUser','BrowserExtensionsErrorHandler','Image.react','immutable','MessengerComposeViewHeader.react','MessengerTextWithEntities.react','React','XUIDialogBody.react','XUIDialogButton.react','XUIDialogCancelButton.react','XUIDialogFooter.react','XUIDialogHeader.react','XUIDialogHeaderTitle.react','XUISpinner.react','emptyFunction','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m='broadcast';j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={isSending:false,message:'',recipients:c('immutable').List()},this.$BrowserExtensionsShareChatTabDialog3=function(t){this.setState({recipients:this.state.recipients.push(t)});}.bind(this),this.$BrowserExtensionsShareChatTabDialog4=function(t){var u=this.state.recipients;this.setState({recipients:u['delete'](u.indexOf(t))});}.bind(this),this.$BrowserExtensionsShareChatTabDialog2=function(){this.setState({recipients:c('immutable').List()});}.bind(this),this.$BrowserExtensionsShareChatTabDialog6=function(){this.setState({isSending:true});var t=this.state.recipients.map(function(v){return v.getUniqueID();}).toArray(),u=c('MessengerPlatformBeginShareMutationWebGraphQLMutation').getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===m?t:this.props.threadID,trigger:this.props.sharingType===m?'JS_BRIDGE_BROADCAST':'JS_BRIDGE_DIRECT'});new (c('AsyncRequest'))(u).setHandler(function(v){var w;if(this.$BrowserExtensionsShareChatTabDialog1)this.setState({isSending:false});var x=(w=v)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x){var y=x?x.code:null;this.props.errorCallback(c('BrowserExtensionsErrorHandler').getExternalError(y));}else this.props.successCallback({is_sent:true});}.bind(this)).send();}.bind(this),p;}n.prototype.componentDidMount=function(){this.$BrowserExtensionsShareChatTabDialog1=true;};n.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareChatTabDialog1=false;};n.prototype.render=function(){var o=this.props.sharingType===m?i._("Share"):i._("Send to current thread"),p=this.props.sharingType===m?this.state.recipients.size!==0:true,q=this.props.sharingType===m?c('React').createElement(c('MessengerComposeViewHeader.react'),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareChatTabDialog2,onAddRecipient:this.$BrowserExtensionsShareChatTabDialog3,onRemoveRecipient:this.$BrowserExtensionsShareChatTabDialog4,onResize:c('emptyFunction'),recipients:this.state.recipients,viewer:c('CurrentUser').getID()}):null,r=this.props.sharingType===m?c('React').createElement('div',{className:"_4te6"},c('React').createElement(c('AbstractTextArea.react'),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(t){return this.setState({message:t.target.value});}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,s=this.state.isSending?c('React').createElement(c('XUISpinner.react'),{size:'large'}):null;return c('React').createElement('div',null,c('React').createElement(c('XUIDialogHeader.react'),null,c('React').createElement(c('XUIDialogHeaderTitle.react'),null,o)),c('React').createElement(c('XUIDialogBody.react'),{className:"_189w"},q,r,c('React').createElement('div',{className:"_5l-3"},c('React').createElement('div',{className:"_4tea"},c('React').createElement(c('Image.react'),{src:this.props.imageUrl})),c('React').createElement('div',{className:"_4tef"},c('React').createElement('div',{style:{fontWeight:'bold'}},this.$BrowserExtensionsShareChatTabDialog5(this.props.title)),c('React').createElement('div',null,this.$BrowserExtensionsShareChatTabDialog5(this.props.subtitle)),c('React').createElement('div',null,this.$BrowserExtensionsShareChatTabDialog5(this.props.targetDisplay))))),c('React').createElement(c('XUIDialogFooter.react'),{leftContent:s},c('React').createElement(c('XUIDialogCancelButton.react'),null),c('React').createElement(c('XUIDialogButton.react'),{action:'confirm',disabled:this.state.isSending||!p,label:i._("Send"),onClick:this.$BrowserExtensionsShareChatTabDialog6,use:'confirm'})));};n.prototype.$BrowserExtensionsShareChatTabDialog5=function(o){return c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,text:o||''});};n.propTypes={buttonTitle:l.string,buttonUrl:l.string,contentForShare:l.string,imageUrl:l.string,itemUrl:l.string,openGraphUrl:l.string,previewType:l.string,subtitle:l.string,targetDisplay:l.string,title:l.string,sharingType:l.string.isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,successCallback:l.func.isRequired,errorCallback:l.func.isRequired};f.exports=n;}),null);
__d('BrowserExtensionsShareMessengerDialog.react',['cx','fbt','AbstractTextArea.react','AsyncRequest','MessengerPlatformBeginShareMutationWebGraphQLMutation','CurrentUser','BrowserExtensionsErrorHandler','Image.react','immutable','LayerFadeOnHide','MessengerComposeViewHeader.react','MessengerDialog.react','messengerDialogsRe','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogCancelButton.react','MessengerDialogFooter.react','MessengerDialogHeader.react','MessengerDialogTitle.react','MessengerSpinner.react','MessengerTextWithEntities.react','React','emptyFunction','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('messengerDialogBodyReact').jsComponent,m=c('React').PropTypes,n='broadcast';j=babelHelpers.inherits(o,c('React').Component);k=j&&j.prototype;function o(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.state={clickedSend:false,isSending:false,message:'',recipients:c('immutable').List()},this.$BrowserExtensionsShareMessengerDialog3=function(u){this.setState({recipients:this.state.recipients.push(u)});}.bind(this),this.$BrowserExtensionsShareMessengerDialog4=function(u){var v=this.state.recipients;this.setState({recipients:v['delete'](v.indexOf(u))});}.bind(this),this.$BrowserExtensionsShareMessengerDialog2=function(){this.setState({recipients:c('immutable').List()});}.bind(this),this.$BrowserExtensionsShareMessengerDialog7=function(){this.setState({clickedSend:true,isSending:true});var u=this.state.recipients.map(function(w){return w.getUniqueID();}).toArray(),v=c('MessengerPlatformBeginShareMutationWebGraphQLMutation').getURI({content_for_preview:{button_url:this.props.buttonUrl,button_title:this.props.buttonTitle,image_url:this.props.imageUrl,item_url:this.props.itemUrl,open_graph_url:this.props.openGraphUrl,preview_type:this.props.previewType,subtitle:this.props.subtitle,target_display:this.props.targetDisplay,title:this.props.title},content_for_share:this.props.contentForShare,message_text:this.state.message,page_id:this.props.pageID,thread_ids:this.props.sharingType===n?u:this.props.threadID,trigger:this.props.sharingType===n?'JS_BRIDGE_BROADCAST':'JS_BRIDGE_DIRECT'});new (c('AsyncRequest'))(v).setHandler(function(w){var x;if(this.$BrowserExtensionsShareMessengerDialog1)this.setState({isSending:false},function(){c('messengerDialogsRe').removeDialog();});var y=(x=w)!=null?(x=x.payload)!=null?(x=x.errors)!=null?x[0]:x:x:x;if(y){var z=y?y.code:null;this.props.errorCallback(c('BrowserExtensionsErrorHandler').getExternalError(z));}else this.props.successCallback({is_sent:true});}.bind(this)).send();}.bind(this),this.$BrowserExtensionsShareMessengerDialog5=function(u){if(!u){if(!this.state.clickedSend)this.props.successCallback({is_sent:false});c('messengerDialogsRe').removeDialog();}}.bind(this),q;}o.prototype.componentDidMount=function(){this.$BrowserExtensionsShareMessengerDialog1=true;};o.prototype.componentWillUnmount=function(){this.$BrowserExtensionsShareMessengerDialog1=false;};o.prototype.render=function(){var p=this.props.sharingType===n?i._("Share"):i._("Send to current thread"),q=this.props.sharingType===n?this.state.recipients.size!==0:true,r=this.props.sharingType===n?c('React').createElement(c('MessengerComposeViewHeader.react'),{className:"_189v",forceHideClearButton:false,onClear:this.$BrowserExtensionsShareMessengerDialog2,onAddRecipient:this.$BrowserExtensionsShareMessengerDialog3,onRemoveRecipient:this.$BrowserExtensionsShareMessengerDialog4,onResize:c('emptyFunction'),recipients:this.state.recipients,viewer:c('CurrentUser').getID()}):null,s=this.props.sharingType===n?c('React').createElement('div',{className:"_4te6"},c('React').createElement(c('AbstractTextArea.react'),{autoFocus:true,className:"_4te8",disabled:this.state.isSending,onChange:function(u){return this.setState({message:u.target.value});}.bind(this),placeholder:i._("Type a message..."),rows:2,value:this.state.message})):null,t=this.state.isSending?c('React').createElement(c('MessengerSpinner.react'),null):null;return c('React').createElement(c('MessengerDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$BrowserExtensionsShareMessengerDialog5,shown:true,width:500},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement(c('MessengerDialogTitle.react'),null,p)),c('React').createElement(l,{className:"_189w"},r,s,c('React').createElement('div',{className:"_5l-3"},c('React').createElement('div',{className:"_4tea"},c('React').createElement(c('Image.react'),{src:this.props.imageUrl})),c('React').createElement('div',{className:"_4tef"},c('React').createElement('div',{style:{fontWeight:'bold'}},this.$BrowserExtensionsShareMessengerDialog6(this.props.title)),c('React').createElement('div',null,this.$BrowserExtensionsShareMessengerDialog6(this.props.subtitle)),c('React').createElement('div',null,this.$BrowserExtensionsShareMessengerDialog6(this.props.targetDisplay))))),c('React').createElement(c('MessengerDialogFooter.react'),{leftContent:t},c('React').createElement(c('MessengerDialogCancelButton.react'),null),c('React').createElement(c('MessengerDialogButton.react'),{action:'confirm',disabled:this.state.isSending||!q,label:i._("Send"),onClick:this.$BrowserExtensionsShareMessengerDialog7,type:'primary'})));};o.prototype.$BrowserExtensionsShareMessengerDialog6=function(p){return c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,text:p||''});};o.propTypes={buttonTitle:m.string,buttonUrl:m.string,contentForShare:m.string,imageUrl:m.string,itemUrl:m.string,openGraphUrl:m.string,previewType:m.string,subtitle:m.string,targetDisplay:m.string,title:m.string,sharingType:m.string.isRequired,pageID:m.string.isRequired,threadID:m.string.isRequired,successCallback:m.func.isRequired,errorCallback:m.func.isRequired};f.exports=o;}),null);
__d("XShareScrapeAttachmentAsyncController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/message_share_attachment\/fromURI\/",{});}),null);
__d('BrowserExtensionsBeginShareHelper',['AsyncRequest','BrowserExtensionsShareChatTabDialog.react','BrowserExtensionsShareMessengerDialog.react','DialogX','BrowserExtensionsErrorHandler','LayerDestroyOnHide','LayerFadeOnHide','LayerHideOnBlur','MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery','messengerDialogsRe','MessengerEnvironment','React','WebGraphQL','XShareScrapeAttachmentAsyncController','idx'],(function a(b,c,d,e,f,g){'use strict';var h='OPEN_GRAPH',i=150,j=150;function k(m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa){var ba;if(c('MessengerEnvironment').messengerui){c('messengerDialogsRe').showDialog(function(){return c('React').createElement(c('BrowserExtensionsShareMessengerDialog.react'),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,previewType:s,subtitle:t,targetDisplay:u,title:v,sharingType:w,pageID:x,threadID:y,successCallback:z,errorCallback:aa});});}else (function(){var ca={width:500,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerFadeOnHide'),c('LayerHideOnBlur')]},da=c('React').createElement(c('BrowserExtensionsShareChatTabDialog.react'),{buttonTitle:m,buttonUrl:n,contentForShare:o,imageUrl:p,itemUrl:q,openGraphUrl:r,previewType:s,subtitle:t,targetDisplay:u,title:v,sharingType:w,pageID:x,threadID:y,successCallback:z,errorCallback:aa}),ea=new (c('DialogX'))(ca,da),fa=false;ea.subscribe('confirm',function(){fa=true;ea.hide();});ea.subscribe('hide',function(){if(!fa)z({is_sent:false});});ea.show();})();}var l={beginShareFlow:function m(n,o,p,q,r,s,t){if(r.preview_type===h){var u=c('XShareScrapeAttachmentAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setMethod('POST').setURI(u).setData({image_height:i,image_width:j,uri:r.open_graph_url}).setHandler(function(y){var z,aa,ba,ca=(z=y)!=null?(z=z.payload)!=null?(z=z.media)!=null?z.image:z:z:z,da=(aa=y)!=null?(aa=aa.payload)!=null?aa.title:aa:aa,ea=(ba=y)!=null?(ba=ba.payload)!=null?(ba=ba.target)!=null?(ba=ba.artists)!=null?ba[0]:ba:ba:ba:ba;k(r.button_title,r.button_url,q,ca,r.item_url,r.open_graph_url,r.preview_type,ea,r.target_display,da,p,n,o,s,t);}).send();}else{var v,w=JSON.parse(q),x=(v=w)!=null?(v=v.attachment)!=null?(v=v.payload)!=null?(v=v.elements)!=null?(v=v[0])!=null?v.attachment_id:v:v:v:v:v;if(x){c('WebGraphQL').exec(new (c('MessengerPlatformMediaAttachmentPreviewWebGraphQLQuery'))({params:{attachment_id:x,page_id:n}})).done(function(y){k(r.button_title,r.button_url,q,y.messenger_platform_media_attachment_preview_info.media_attachment.image.uri,r.item_url,r.open_graph_url,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t);},function(y){var z,aa=(z=y)!=null?(z=z.errors)!=null?(z=z[0])!=null?z.code:z:z:z;t(c('BrowserExtensionsErrorHandler').getExternalError(aa));});}else k(r.button_title,r.button_url,q,r.image_url,r.item_url,r.open_graph_url,r.preview_type,r.subtitle,r.target_display,r.title,p,n,o,s,t);}}};f.exports=l;}),null);
__d('JSONRPC',['Log'],(function a(b,c,d,e,f,g){function h(i){'use strict';this.$JSONRPC1=0;this.$JSONRPC2={};this.remote=function(j){this.$JSONRPC3=j;return this.remote;}.bind(this);this.local={};this.$JSONRPC4=i;}h.prototype.stub=function(i){'use strict';this.remote[i]=function(){var j={jsonrpc:'2.0',method:i};for(var k=arguments.length,l=Array(k),m=0;m<k;m++)l[m]=arguments[m];if(typeof l[l.length-1]=='function'){j.id=++this.$JSONRPC1;this.$JSONRPC2[j.id]=l.pop();}j.params=l;this.$JSONRPC4(JSON.stringify(j),this.$JSONRPC3||{method:i});}.bind(this);};h.prototype.read=function(i,j){'use strict';var k=JSON.parse(i),l=k.id;if(!k.method){if(!this.$JSONRPC2[l]){c('Log').warn('Could not find callback %s',l);return;}var m=this.$JSONRPC2[l];delete this.$JSONRPC2[l];delete k.id;delete k.jsonrpc;m(k);return;}var n=this,o=this.local[k.method],p;if(l){p=function r(s,t){var u={jsonrpc:'2.0',id:l};u[s]=t;setTimeout(function(){n.$JSONRPC4(JSON.stringify(u),j);},0);};}else p=function r(){};if(!o){c('Log').error('Method "%s" has not been defined',k.method);p('error',{code:-32601,message:'Method not found',data:k.method});return;}k.params.push(p.bind(null,'result'));k.params.push(p.bind(null,'error'));try{var q=o.apply(j||null,k.params);if(typeof q!=='undefined')p('result',q);}catch(r){c('Log').error('Invokation of RPC method %s resulted in the error: %s',k.method,r.message);p('error',{code:-32603,message:'Internal error',data:r.message});}};f.exports=h;}),null);
__d("MessengerPlatformGetContextMutationWebGraphQLMutation",["WebGraphQLMutationBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLMutationBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1287796201341719";};j.getQueryID=function(){"use strict";return "110767876099464";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('BrowserExtensionsDesktopController',['AsyncRequest','BrowserExtensionsBeginShareHelper','BrowserExtensionsPermissionsHelper','DOMEventListener','BrowserExtensionsErrorHandler','MessengerPlatformGetContextMutationWebGraphQLMutation','JSONRPC','MessengerPlatformPermissionWebGraphQLQuery','idx'],(function a(b,c,d,e,f,g){'use strict';var h='MESSENGER_EXTENSIONS_RPC:';function i(m,n,o,p,q,r,s){var t=c('MessengerPlatformGetContextMutationWebGraphQLMutation').getURI({actor_id:p,app_id:q,page_id:n,thread_id:o,extension_uri:m.getOrigin()});new (c('AsyncRequest'))().setURI(t).setHandler(function(u){var v,w,x=(v=u)!=null?(v=v.payload)!=null?(v=v.data)!=null?v.messenger_platform_get_context:v:v:v,y=(w=u)!=null?(w=w.payload)!=null?(w=w.errors)!=null?w[0]:w:w:w;if(x){r(x);}else{var z=y?y.code:null;s(c('BrowserExtensionsErrorHandler').getExternalError(z));}}).send();}function j(m,n,o,p){var q=c('MessengerPlatformPermissionWebGraphQLQuery').getURI({params:{page_id:m,thread_id:n}});new (c('AsyncRequest'))().setURI(q).setHandler(function(r){var s,t,u=(s=r)!=null?(s=s.payload)!=null?(s=s.data)!=null?(s=s.messenger_platform_permission)!=null?s.granted_permission_infos:s:s:s:s,v=(t=r)!=null?(t=t.payload)!=null?(t=t.errors)!=null?t[0]:t:t:t;if(u){var w=u.map(function(y){return y.permission_type;});o({permissions:w});}else{var x=v?v.code:null;p(c('BrowserExtensionsErrorHandler').getExternalError(x));}}).send();}function k(m,n,o){m(n);}function l(m,n,o,p,q,r){var s=new (c('JSONRPC'))(function(t){m.postMessage(h+t,n.getOrigin());});this.$BrowserExtensionsDesktopController1=c('DOMEventListener').add(window,'message',function(event){if(typeof event.data!=='string'||!event.data.startsWith(h))return;s.read(event.data.substring(h.length));},false);s.local.askPermission=function(t,u,v){c('BrowserExtensionsPermissionsHelper').askPermissions(o,p,t,u,v);};s.local.beginShareFlow=function(t,u,v,w,x){c('BrowserExtensionsBeginShareHelper').beginShareFlow(o,p,t,u,v,w,x);};s.local.getContext=function(t,u,v){i(n,o,p,q,t,u,v);};s.local.getGrantedPermissions=function(t,u){j(o,p,t,u);};s.local.requestCloseBrowser=function(t,u){k(r,t,u);};}l.prototype.getListener=function(){return this.$BrowserExtensionsDesktopController1;};f.exports=l;}),null);
__d('BrowserExtensionsDesktopCoordinator',['BrowserExtensionsDesktopController'],(function a(b,c,d,e,f,g){'use strict';var h=void 0,i={setActiveBridge:function j(k,l,m,n,o,p){if(h)h.remove();var q=new (c('BrowserExtensionsDesktopController'))(k,l,m,n,o,p);h=q.getListener();}};f.exports=i;}),null);
__d('BrowserExtensionsIframe.react',['BrowserExtensionsDesktopCoordinator','ControlledRefererIFrame.react','MessengerEnvironment','React','URI'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentDidMount=function(){if(this.refs.iframeRef)c('BrowserExtensionsDesktopCoordinator').setActiveBridge(this.refs.iframeRef,this.props.thirdPartyURI,this.props.pageID,this.props.threadID,this.props.userID,this.props.closeDialogHandler);};k.prototype.render=function(){return c('React').createElement(c('ControlledRefererIFrame.react'),{ref:'iframeRef',src:this.props.thirdPartyURI.toString(),name:c('MessengerEnvironment').messengerui?'messenger_ref':'facebook_ref',style:{border:0,height:this.props.height,width:this.props.width}});};function k(){h.apply(this,arguments);}k.propTypes={thirdPartyURI:j.instanceOf(c('URI')).isRequired,pageID:j.string.isRequired,threadID:j.string.isRequired,userID:j.string.isRequired,height:j.number.isRequired,width:j.number.isRequired,closeDialogHandler:j.func.isRequired};f.exports=k;}),null);
__d("MessengerPageInfoWebGraphQLQuery",["WebGraphQLQueryBase"],(function a(b,c,d,e,f,g){'use strict';f.exports=function(){var h,i;h=babelHelpers.inherits(j,c("WebGraphQLQueryBase"));i=h&&h.prototype;j.__getDocID=function(){"use strict";return "1340699622714874";};j.getQueryID=function(){"use strict";return "794225320759977";};function j(){"use strict";h.apply(this,arguments);}return j;}();}),null);
__d('BrowserExtensionsChatTabDialog.react',['cx','fbt','AsyncRequest','BrowserExtensionsIframe.react','Image.react','MessengerPageInfoWebGraphQLQuery','React','URI','XUICloseButton.react','XUIDialogBody.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={profilePicUrl:null,title:''},o;}m.prototype.componentDidMount=function(){var n=c('MessengerPageInfoWebGraphQLQuery').getURI({node_id:this.props.pageID});new (c('AsyncRequest'))().setURI(n).setHandler(function(o){var p=o.payload.data.node;this.setState({profilePicUrl:p.profile_picture.uri,title:p.name});}.bind(this)).send();};m.prototype.render=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_4-i0"},c('React').createElement('div',{className:"_5l-3 _3qur"},c('React').createElement('div',{className:"_3o_f"},c('React').createElement(c('Image.react'),{className:"_3o_g",src:this.state.profilePicUrl})),c('React').createElement('div',{className:"_3o_i"},this.state.title),c('React').createElement('div',{className:"_3qus"},c('React').createElement(c('XUICloseButton.react'),{className:"layerCancel _51-t",label:i._("Close")})))),c('React').createElement(c('XUIDialogBody.react'),{className:"_3o_l"},c('React').createElement(c('BrowserExtensionsIframe.react'),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.props.closeDialogHandler})));};m.defaultProps={height:604,width:375};m.propTypes={thirdPartyURI:l.instanceOf(c('URI')).isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,userID:l.string.isRequired,height:l.number,width:l.number,closeDialogHandler:l.func.isRequired};f.exports=m;}),null);
__d('BrowserExtensionsMessengerDialog.react',['cx','AsyncRequest','BrowserExtensionsIframe.react','Image.react','LayerFadeOnHide','MessengerDialog.react','messengerDialogsRe','messengerDialogBodyReact','MessengerDialogButton.react','MessengerDialogHeader.react','MessengerPageInfoWebGraphQLQuery','React','URI'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('messengerDialogBodyReact').jsComponent,l=c('React').PropTypes,m=30;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=j.constructor).call.apply(o,[this].concat(r)),this.state={profilePicUrl:null,title:'',shown:true},this.$BrowserExtensionsMessengerDialog2=function(t){this.setState({shown:false},t);}.bind(this),p;}n.prototype.componentDidMount=function(){var o=c('MessengerPageInfoWebGraphQLQuery').getURI({node_id:this.props.pageID});new (c('AsyncRequest'))().setURI(o).setHandler(function(p){var q=p.payload.data.node;this.setState({profilePicUrl:q.profile_picture.uri,title:q.name});}.bind(this)).send();};n.prototype.render=function(){return c('React').createElement(c('MessengerDialog.react'),{behaviors:{LayerFadeOnHide:c('LayerFadeOnHide')},hideOnEscape:true,onToggle:this.$BrowserExtensionsMessengerDialog1,shown:this.state.shown,type:'default',width:this.props.width+m},c('React').createElement(c('MessengerDialogHeader.react'),null,c('React').createElement('div',{className:"_5l-3 _3o_e"},c('React').createElement('div',{className:"_3o_f"},c('React').createElement(c('Image.react'),{className:"_3o_g",src:this.state.profilePicUrl})),c('React').createElement('div',{className:"_3o_i"},this.state.title),c('React').createElement('div',{className:"_3o_f"},c('React').createElement(c('MessengerDialogButton.react'),{action:'cancel',className:"_3o_k",type:'primary',use:'default'})))),c('React').createElement(k,{className:"_3o_l"},c('React').createElement(c('BrowserExtensionsIframe.react'),{thirdPartyURI:this.props.thirdPartyURI,pageID:this.props.pageID,threadID:this.props.threadID,userID:this.props.userID,height:this.props.height,width:this.props.width,closeDialogHandler:this.$BrowserExtensionsMessengerDialog2})));};n.prototype.$BrowserExtensionsMessengerDialog1=function(o){if(!o)c('messengerDialogsRe').removeDialog();};n.defaultProps={height:604,width:375};n.propTypes={thirdPartyURI:l.instanceOf(c('URI')).isRequired,pageID:l.string.isRequired,threadID:l.string.isRequired,userID:l.string.isRequired,height:l.number,width:l.number};f.exports=n;}),null);
__d('BrowserExtensionsDialog',['BrowserExtensionsChatTabDialog.react','BrowserExtensionsMessengerDialog.react','DialogX','LayerDestroyOnHide','LayerFadeOnHide','LayerHideOnBlur','messengerDialogsRe','MessengerEnvironment','React'],(function a(b,c,d,e,f,g){'use strict';var h={show:function i(j,k,l,m){var n;if(c('MessengerEnvironment').messengerui){c('messengerDialogsRe').showDialog(function(){return c('React').createElement(c('BrowserExtensionsMessengerDialog.react'),{thirdPartyURI:j,pageID:k,threadID:l,userID:m});});}else (function(){var o=void 0,p={width:405,addedBehaviors:[c('LayerDestroyOnHide'),c('LayerFadeOnHide'),c('LayerHideOnBlur')]},q=c('React').createElement(c('BrowserExtensionsChatTabDialog.react'),{thirdPartyURI:j,pageID:k,threadID:l,userID:m,closeDialogHandler:function r(s){return h.hideChatTabDialog(o,s);}});o=new (c('DialogX'))(p,q);o.show();})();},hideChatTabDialog:function i(j,k){if(j){j.hide();k();}}};f.exports=h;}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messages\/commerce\/postback\/",{cta_id:{type:"String",required:true},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}});}),null);
__d('MNCommercePostbackCTADataManager',['AsyncRequest','BanzaiODS','CurrentUser','getPageIDFromThreadID','MercuryMessageActions','MercuryMessageObject','MercurySourceType','MNPlatformTagsDataManager','XMNCommercePostbackCTAController'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryMessageActions').get();i.prototype.send=function(j){var k=arguments.length<=1||arguments[1]===undefined?null:arguments[1],l=arguments.length<=2||arguments[2]===undefined?null:arguments[2],m=arguments.length<=3||arguments[3]===undefined?null:arguments[3],n=c('XMNCommercePostbackCTAController').getURIBuilder().setString('cta_id',j).setString('ref',l).setString('message_id',m).getURI();if(k!==null){new (c('AsyncRequest'))().setURI(n).setMethod('post').setErrorHandler(k).send();}else new (c('AsyncRequest'))().setURI(n).setMethod('post').send();};i.prototype.sendAndConfirm=function(j,k,l,m){var n=arguments.length<=4||arguments[4]===undefined?null:arguments[4],o=arguments.length<=5||arguments[5]===undefined?null:arguments[5],p=arguments.length<=6||arguments[6]===undefined?[]:arguments[6],q=arguments.length<=7||arguments[7]===undefined?null:arguments[7];if(k!==null)this.sendConfirmationText(k,l,m,p);this.send(j,n,o,q);};i.prototype.sendConfirmationText=function(j,k,l){if(!k){c('BanzaiODS').bumpEntityKey('messenger_commerce','confirm_message_failed.empty_threadID');}else{var m=new (c('MercuryMessageObject'))(c('CurrentUser').getID()),n=[],o=c('getPageIDFromThreadID')(k);if(c('MNPlatformTagsDataManager').hasThreadTags(o))n=c('MNPlatformTagsDataManager').getThreadTags();h.send(m.constructCTAConfirmationMessageObject(j,c('MercurySourceType').TITAN_WEB,k,l,n));if(n&&n.length>0)c('MNPlatformTagsDataManager').updateThreadTabAfterSelectThread();}};function i(){}f.exports=new i();}),null);