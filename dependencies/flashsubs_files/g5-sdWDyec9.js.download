if (self.CavalryLogger) { CavalryLogger.start_js(["WXpW+"]); }

__d("FBJSON",[],(function a(b,c,d,e,f,g){f.exports={parse:JSON.parse,stringify:JSON.stringify};}),null);
__d('EventListener',['Event','TimeSlice','emptyFunction','setImmediateAcrossTransitions'],(function a(b,c,d,e,f,g){var h={listen:c('Event').listen,capture:function i(j,k,l){l=c('TimeSlice').guard(l,'EventListener capture '+k);if(j.addEventListener){j.addEventListener(k,l,true);return {remove:function m(){j.removeEventListener(k,l,true);}};}else return {remove:c('emptyFunction')};},registerDefault:function i(j,k){var l=void 0,m=c('Event').listen(document.documentElement,j,n,c('Event').Priority._BUBBLE);function n(){o();l=c('Event').listen(document,j,k);c('setImmediateAcrossTransitions')(o);}function o(){l&&l.remove();l=null;}return {remove:function p(){o();m&&m.remove();m=null;}};}};f.exports=h;}),18);
__d('Promise',['invariant','TimeSlice','setImmediate','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){'use strict';function i(){}var j=null,k={};function l(da){try{return da.then;}catch(ea){j=ea;return k;}}function m(da,ea){try{return da(ea);}catch(fa){j=fa;return k;}}function n(da,ea,fa){try{da(ea,fa);}catch(ga){j=ga;return k;}}function o(da){if(typeof this!=='object')throw new TypeError('Promises must be constructed via new');if(typeof da!=='function')throw new TypeError('not a function');this._state=0;this._value=null;this._deferreds=[];if(da===i)return;v(da,this);}o._noop=i;o.prototype.then=function(da,ea){if(this.constructor!==o)return p(this,da,ea);var fa=new o(i);q(this,new u(da,ea,fa));return fa;};function p(da,ea,fa){return new da.constructor(function(ga,ha){var ia=new o(i);ia.then(ga,ha);q(da,new u(ea,fa,ia));});}function q(da,ea){while(da._state===3)da=da._value;if(da._state===0){da._deferreds.push(ea);return;}c('setImmediate')(function fa(){var ga=da._state===1?ea.onFulfilled:ea.onRejected;if(ga===null){ea.continuation(function(){});if(da._state===1){r(ea.promise,da._value);}else s(ea.promise,da._value);return;}var ha=m(ea.continuation.bind(null,ga),da._value);if(ha===k){s(ea.promise,j);}else r(ea.promise,ha);});}function r(da,ea){if(ea===da)return s(da,new TypeError('A promise cannot be resolved with itself.'));if(ea&&(typeof ea==='object'||typeof ea==='function')){var fa=l(ea);if(fa===k)return s(da,j);if(fa===da.then&&ea instanceof o){da._state=3;da._value=ea;t(da);return;}else if(typeof fa==='function'){v(fa.bind(ea),da);return;}}da._state=1;da._value=ea;t(da);}function s(da,ea){da._state=2;da._value=ea;t(da);}function t(da){for(var ea=0;ea<da._deferreds.length;ea++)q(da,da._deferreds[ea]);da._deferreds=null;}function u(da,ea,fa){this.onFulfilled=typeof da==='function'?da:null;this.onRejected=typeof ea==='function'?ea:null;this.continuation=c('TimeSlice').getGuardedContinuation('Promise Handler');this.promise=fa;}function v(da,ea){var fa=false,ga=n(da,function(ha){if(fa)return;fa=true;r(ea,ha);},function(ha){if(fa)return;fa=true;s(ea,ha);});if(!fa&&ga===k){fa=true;s(ea,j);}}o.prototype.done=function(da,ea){var fa=arguments.length?this.then.apply(this,arguments):this;fa.then(null,function(ga){c('setTimeoutAcrossTransitions')(function(){throw ga;},0);});};var w=ca(true),x=ca(false),y=ca(null),z=ca(undefined),aa=ca(0),ba=ca('');function ca(da){var ea=new o(o._noop);ea._state=1;ea._value=da;return ea;}o.resolve=function(da){if(da instanceof o)return da;if(da===null)return y;if(da===undefined)return z;if(da===true)return w;if(da===false)return x;if(da===0)return aa;if(da==='')return ba;if(typeof da==='object'||typeof da==='function')try{var ea=da.then;if(typeof ea==='function')return new o(ea.bind(da));}catch(fa){return new o(function(ga,ha){ha(fa);});}return ca(da);};o.all=function(da){if(!Array.isArray(da))da=[new o(function(){throw new TypeError('Promise.all must be passed an iterable.');})];var ea=Array.prototype.slice.call(da);return new o(function(fa,ga){if(ea.length===0)return fa([]);var ha=ea.length;function ia(ka,la){if(la&&(typeof la==='object'||typeof la==='function'))if(la instanceof o&&la.then===o.prototype.then){while(la._state===3)la=la._value;if(la._state===1)return ia(ka,la._value);if(la._state===2)ga(la._value);la.then(function(oa){ia(ka,oa);},ga);return;}else{var ma=la.then;if(typeof ma==='function'){var na=new o(ma.bind(la));na.then(function(oa){ia(ka,oa);},ga);return;}}ea[ka]=la;if(--ha===0)fa(ea);}for(var ja=0;ja<ea.length;ja++)ia(ja,ea[ja]);});};o.reject=function(da){return new o(function(ea,fa){fa(da);});};o.race=function(da){return new o(function(ea,fa){da.forEach(function(ga){o.resolve(ga).then(ea,fa);});});};o.prototype['catch']=function(da){return this.then(null,da);};f.exports=o;}),null);
__d('PriorityJobQueue',['Promise','Map'],(function a(b,c,d,e,f,g){'use strict';var h=1;function i(j){this.$PriorityJobQueue2=new (c('Map'))();this.$PriorityJobQueue3=new (c('Map'))();this.$PriorityJobQueue4=false;this.$PriorityJobQueue5=new (c('Map'))();this.$PriorityJobQueue8=function(){var k=this.$PriorityJobQueue3.size,l=Date.now();if(k<this.$PriorityJobQueue1){var m=this.$PriorityJobQueue1-k,n=Array.from(this.$PriorityJobQueue2.values());n.sort(function(q,r){return r.job.getPriority(l-r.timeQueued)-q.job.getPriority(l-q.timeQueued);});var o=this.$PriorityJobQueue2.size;for(var p=0;p<Math.min(o,m);p++)this.$PriorityJobQueue9(n[p]);}this.$PriorityJobQueue4=false;}.bind(this);this.$PriorityJobQueue1=j||h;}i.prototype.$PriorityJobQueue6=function(j){this.$PriorityJobQueue3['delete'](j);this.$PriorityJobQueue7();};i.prototype.$PriorityJobQueue7=function(){if(!this.$PriorityJobQueue4){this.$PriorityJobQueue4=true;c('Promise').resolve().then(this.$PriorityJobQueue8).done();}};i.prototype.$PriorityJobQueue9=function(j){var k=j.job,l=k.getJobID();this.$PriorityJobQueue2['delete'](l);this.$PriorityJobQueue3.set(l,j);k.getPromise().then(function(){return this.$PriorityJobQueue6(l);}.bind(this))['catch']();var m=this.$PriorityJobQueue5.get(l);m&&m();this.$PriorityJobQueue5['delete'](l);k.start();};i.prototype.enqueue=function(j,k){var l={job:j,timeQueued:Date.now()},m=j.getJobID();this.$PriorityJobQueue2.set(m,l);if(k)this.$PriorityJobQueue5.set(m,k);this.$PriorityJobQueue7();return this;};i.prototype.abort=function(j){this.$PriorityJobQueue2['delete'](j);var k=this.$PriorityJobQueue3.get(j);if(k){k.job.abort();this.$PriorityJobQueue3['delete'](j);this.$PriorityJobQueue7();}};i.get=function(){if(!i.$PriorityJobQueue10)i.$PriorityJobQueue10=new i(h);return i.$PriorityJobQueue10;};f.exports=i;}),null);
__d("Deferred",["Promise"],(function a(b,c,d,e,f,g){function h(){"use strict";this.$Deferred1=false;this.$Deferred2=new (c("Promise"))(function(i,j){this.$Deferred3=i;this.$Deferred4=j;}.bind(this));}h.prototype.getPromise=function(){"use strict";return this.$Deferred2;};h.prototype.resolve=function(i){"use strict";this.$Deferred1=true;this.$Deferred3(i);};h.prototype.reject=function(i){"use strict";this.$Deferred1=true;this.$Deferred4(i);};h.prototype["catch"]=function(i){"use strict";return c("Promise").prototype["catch"].apply(this.$Deferred2,arguments);};h.prototype.then=function(i,j){"use strict";return c("Promise").prototype.then.apply(this.$Deferred2,arguments);};h.prototype.done=function(i,j){"use strict";var k=arguments.length?this.$Deferred2.then.apply(this.$Deferred2,arguments):this.$Deferred2;k.then(undefined,function(l){setTimeout(function(){throw l;},0);});};h.prototype.isSettled=function(){"use strict";return this.$Deferred1;};f.exports=h;}),null);
__d('VideoPlayerResourceTimer',[],(function a(b,c,d,e,f,g){'use strict';var h={getResourceTimingEntry:function i(j,k,l){var m;if(performance.getEntriesByType){var m=function(){var n=performance.getEntriesByName(j,'resource'),o=[];n.forEach(function(p){if(typeof p.responseEnd==='number'&&typeof p.responseStart==='number'&&typeof p.requestStart==='number'&&typeof p.connectEnd==='number'&&typeof p.connectStart==='number'&&typeof p.domainLookupEnd==='number'&&typeof p.domainLookupStart==='number'&&typeof p.transferSize==='number'&&p.responseEnd<=l&&p.startTime>=k)o.push({entry:{timeToFirstByte:p.responseStart-p.startTime,timeToLastByte:p.responseEnd-p.startTime,timeToRequestStart:p.requestStart-p.startTime,timeToConectionEnd:p.connectEnd-p.startTime,timeToConnectionStart:p.connectStart-p.startTime,timeToDomainLookupEnd:p.domainLookupEnd-p.startTime,timeToDomainLookupStart:p.domainLookupStart-p.startTime,transferSize:p.transferSize,startTime:p.startTime},sort:p.responseEnd});});o.sort(function(p,q){return q.sort-p.sort;});if(o.length)return {v:o[0].entry};}();if(typeof m==="object")return m.v;}return null;}};f.exports=h;}),null);
__d('CacheStorage',['ErrorUtils','EventListener','ExecutionEnvironment','FBJSON','WebStorage'],(function a(b,c,d,e,f,g){var h,i,j,k,l={memory:s,localstorage:q,sessionstorage:r},m='_@_',n='3b',o='CacheStorageVersion';function p(u){'use strict';this._store=u;}p.prototype.getStore=function(){'use strict';return this._store;};p.prototype.keys=function(){'use strict';var u=[];for(var v=0;v<this._store.length;v++)u.push(this._store.key(v));return u;};p.prototype.get=function(u){'use strict';return this._store.getItem(u);};p.prototype.set=function(u,v){'use strict';this._store.setItem(u,v);};p.prototype.remove=function(u){'use strict';this._store.removeItem(u);};p.prototype.clear=function(){'use strict';this._store.clear();};h=babelHelpers.inherits(q,p);i=h&&h.prototype;function q(){'use strict';i.constructor.call(this,c('WebStorage').getLocalStorage());}q.available=function(){'use strict';return !!c('WebStorage').getLocalStorage();};j=babelHelpers.inherits(r,p);k=j&&j.prototype;function r(){'use strict';k.constructor.call(this,c('WebStorage').getSessionStorage());}r.available=function(){'use strict';return !!c('WebStorage').getSessionStorage();};function s(){'use strict';this._store={};}s.prototype.getStore=function(){'use strict';return this._store;};s.prototype.keys=function(){'use strict';return Object.keys(this._store);};s.prototype.get=function(u){'use strict';if(this._store[u]===undefined)return null;return this._store[u];};s.prototype.set=function(u,v){'use strict';this._store[u]=v;};s.prototype.remove=function(u){'use strict';if(u in this._store)delete this._store[u];};s.prototype.clear=function(){'use strict';this._store={};};s.available=function(){'use strict';return true;};function t(u,v){'use strict';this._key_prefix=v||'_cs_';if(u=='AUTO'||!u)for(var w in l){var x=l[w];if(x.available()){u=w;break;}}if(u)if(!l[u]||!l[u].available()){c('ExecutionEnvironment').canUseDOM;this._backend=new s();}else this._backend=new l[u]();var y=this.useBrowserStorage();if(y)c('EventListener').listen(window,'storage',this._onBrowserValueChanged.bind(this));var z=y?this._backend.getStore().getItem(o):this._backend.getStore()[o];if(z!==n)this.clear();}t.prototype.useBrowserStorage=function(){'use strict';return this._backend.getStore()===c('WebStorage').getLocalStorage()||this._backend.getStore()===c('WebStorage').getSessionStorage();};t.prototype.addValueChangeCallback=function(u){'use strict';this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(u);return {remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(u),1);}.bind(this)};};t.prototype._onBrowserValueChanged=function(u){'use strict';if(this._changeCallbacks&&String(u.key).startsWith(this._key_prefix))this._changeCallbacks.forEach(function(v){v(u.key,u.oldValue,u.newValue);});};t.prototype.keys=function(){'use strict';var u=[];c('ErrorUtils').guard(function(){if(this._backend){var v=this._backend.keys(),w=this._key_prefix.length;for(var x=0;x<v.length;x++)if(v[x].substr(0,w)==this._key_prefix)u.push(v[x].substr(w));}}.bind(this),'CacheStorage')();return u;};t.prototype.set=function(u,v,w){'use strict';if(this._backend){var x;if(typeof v=='string'){x=m+v;}else if(!w){x={__t:Date.now(),__v:v};x=c('FBJSON').stringify(x);}else x=c('FBJSON').stringify(v);var y=this._backend,z=this._key_prefix+u,aa=true;while(aa)try{y.set(z,x);aa=false;}catch(ca){var ba=y.keys().length;this._evictCacheEntries();aa=y.keys().length<ba;}}};t.prototype._evictCacheEntries=function(){'use strict';var u=[],v=this._backend;v.keys().forEach(function(x){if(x===o)return;var y=v.get(x);if(y===undefined){v.remove(x);return;}if(t._hasMagicPrefix(y))return;try{y=c('FBJSON').parse(y,f.id);}catch(z){v.remove(x);return;}if(y&&y.__t!==undefined&&y.__v!==undefined)u.push([x,y.__t]);});u.sort(function(x,y){return x[1]-y[1];});for(var w=0;w<Math.ceil(u.length/2);w++)v.remove(u[w][0]);};t.prototype.get=function(u,v){'use strict';var w;if(this._backend){c('ErrorUtils').applyWithGuard(function(){w=this._backend.get(this._key_prefix+u);},this,null,function(){w=null;},'CacheStorage:get');if(w!==null){if(t._hasMagicPrefix(w)){w=w.substr(m.length);}else try{w=c('FBJSON').parse(w,f.id);if(w&&w.__t!==undefined&&w.__v!==undefined)w=w.__v;}catch(x){w=undefined;}}else w=undefined;}if(w===undefined&&v!==undefined){w=v;this.set(u,w);}return w;};t.prototype.remove=function(u){'use strict';if(this._backend)c('ErrorUtils').applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+u],null,'CacheStorage:remove');};t.prototype.clear=function(){'use strict';if(this._backend){c('ErrorUtils').applyWithGuard(this._backend.clear,this._backend,null,null,null,'CacheStorage:clear');if(this.useBrowserStorage()){this._backend.getStore().setItem(o,n);}else this._backend.getStore()[o]=n;}};t.getAllStorageTypes=function(){'use strict';return Object.keys(l);};t._hasMagicPrefix=function(u){'use strict';return u.substr(0,m.length)===m;};f.exports=t;}),null);
__d('VideoPlayerShakaBandwidthEstimator',['CacheStorage','requireWeak','Run','VideoPlayerShakaExperiments'],(function a(b,c,d,e,f,g){var h=void 0;c('requireWeak')('Shaka',function(l){h=l.util.EWMACacheBandwidthEstimator;});var i=null,j=false;function k(){'use strict';var l=new (c('CacheStorage'))('localstorage','_video_'),m=l.get('bandwidthEstimate');this.$VideoPlayerShakaBandwidthEstimator1={isMockObject:true,getBandwidth:function n(){return m;},getFastMovingBandwidth:function n(){return m;}};if(h){this.$VideoPlayerShakaBandwidthEstimator1=new h(c('VideoPlayerShakaExperiments').cacheDelay,c('VideoPlayerShakaExperiments').cacheBandwidth,m);this.$VideoPlayerShakaBandwidthEstimator1.isMockObject=false;}c('Run').onUnload(function(){l.set('bandwidthEstimate',this.$VideoPlayerShakaBandwidthEstimator1.getBandwidth());}.bind(this));}k.prototype.getEstimator=function(){'use strict';return this.$VideoPlayerShakaBandwidthEstimator1;};k.getInstance=function(){'use strict';if(i===null||i.getEstimator().isMockObject&&h)i=new k();return i;};k.getEstimator=function(){'use strict';return k.getInstance().getEstimator();};k.getBandwidth=function(){'use strict';var l=k.getEstimator();return l.getBandwidth();};k.isAutoplayBandwidthRestrained=function(l){'use strict';var m=k.getEstimator(),n=void 0;if(c('VideoPlayerShakaExperiments').blockAutoplayUseFastMovingAverage&&j){n=m.getFastMovingBandwidth();}else n=m.getBandwidth();var o=l?c('VideoPlayerShakaExperiments').liveBlockAutoplayBandwidthThreshold:c('VideoPlayerShakaExperiments').blockAutoplayBandwidthThreshold;if(n===null||n>=o){j=false;}else j=true;return j;};f.exports=k;}),null);
__d('VideoPlayerShakaError',[],(function a(b,c,d,e,f,g){'use strict';var h={translateError:function i(j,k,l){var m={name:j.errorType,message:j.errorMsg,type:l,url:k,xhr:{status:j.errorCode}};return m;}};f.exports=h;}),null);
__d('XHRHttpError',[],(function a(b,c,d,e,f,g){'use strict';var h='HTTP_CLIENT_ERROR',i='HTTP_PROXY_ERROR',j='HTTP_SERVER_ERROR',k='HTTP_TRANSPORT_ERROR',l='HTTP_UNKNOWN_ERROR',m={HTTP_CLIENT_ERROR:h,HTTP_PROXY_ERROR:i,HTTP_SERVER_ERROR:j,HTTP_TRANSPORT_ERROR:k,HTTP_UNKNOWN_ERROR:l,getErrorCode:function n(o,p){if(p===0){var q=o.getProtocol();if(q==='file'||q==='ftp')return null;return k;}else if(p>=100&&p<200){return i;}else if(p>=200&&p<300){return null;}else if(p>=400&&p<500){return h;}else if(p>=500&&p<600){return j;}else if(p>=12001&&p<12156){return k;}else return l;}};f.exports=m;}),null);
__d('getCrossOriginTransport',['invariant','ex'],(function a(b,c,d,e,f,g,h){function i(){try{var j=new XMLHttpRequest();if(!('withCredentials' in j)&&typeof XDomainRequest!=='undefined')j=new XDomainRequest();return j;}catch(k){throw new Error(c('ex')('getCrossOriginTransport: %s',k.message));}}i.withCredentials=function(){var j=i();'withCredentials' in j||h(0);var k=j.open;j.open=function(){k.apply(this,arguments);this.withCredentials=true;};return j;};f.exports=i;}),null);
__d('ZeroRewrites',['URI','ZeroRewriteRules','getCrossOriginTransport','getSameOriginTransport','isFacebookURI'],(function a(b,c,d,e,f,g){var h={rewriteURI:function i(j){if(!c('isFacebookURI')(j)||h._isWhitelisted(j))return j;var k=h._getRewrittenSubdomain(j);if(k!==null&&k!==undefined)j=j.setSubdomain(k);return j;},getTransportBuilderForURI:function i(j){return h._isRewritten(j)?c('getCrossOriginTransport').withCredentials:c('getSameOriginTransport');},isRewriteSafe:function i(j){if(Object.keys(c('ZeroRewriteRules').rewrite_rules).length===0||!c('isFacebookURI')(j))return false;var k=h._getCurrentURI().getDomain(),l=new (c('URI'))(j).qualify().getDomain();return k===l||h._isRewritten(j);},_isWhitelisted:function i(j){var k=j.getPath();if(!k.endsWith('/'))k+='/';return c('ZeroRewriteRules').whitelist&&c('ZeroRewriteRules').whitelist[k]==1;},_getRewrittenSubdomain:function i(j){var k=new (c('URI'))(j).qualify().getSubdomain();return c('ZeroRewriteRules').rewrite_rules[k];},_isRewritten:function i(j){j=new (c('URI'))(j).qualify();if(Object.keys(c('ZeroRewriteRules').rewrite_rules).length===0||!c('isFacebookURI')(j)||h._isWhitelisted(j))return false;var k=j.getSubdomain(),l=h._getCurrentURI(),m=h._getRewrittenSubdomain(l);return j.getDomain()!==l.getDomain()&&k===m;},_getCurrentURI:function i(){return new (c('URI'))('/').qualify();}};f.exports=h;}),null);
__d('getAsyncHeaders',['ZeroCategoryHeader','isFacebookURI'],(function a(b,c,d,e,f,g){function h(i){var j={};if(c('isFacebookURI')(i)&&c('ZeroCategoryHeader').value)j[c('ZeroCategoryHeader').header]=c('ZeroCategoryHeader').value;return j;}f.exports=h;}),null);
__d('xhrSimpleDataSerializer',[],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=[];for(var k in i)j.push(encodeURIComponent(k)+'='+encodeURIComponent(i[k]));return j.join('&');}f.exports=h;}),null);
__d('XHRRequest',['invariant','Env','ErrorUtils','ResourceTimingsStore','ResourceTypes','TimeSlice','URI','XHRHttpError','ZeroRewrites','getAsyncHeaders','xhrSimpleDataSerializer'],(function a(b,c,d,e,f,g,h){var i={errorCode:null,errorMsg:null,errorType:null},j={loadedBytes:null,totalBytes:null};function k(l){'use strict';this.setURI(l);this.setResponseType(null);this.setMethod('POST');this.setTransportBuilder(c('ZeroRewrites').getTransportBuilderForURI(this.getURI()));this.setDataSerializer(c('xhrSimpleDataSerializer'));this.$XHRRequest1=c('ResourceTimingsStore').getUID(c('ResourceTypes').XHR,l!=null?l.toString():'');}k.prototype.setURI=function(l){'use strict';this.$XHRRequest2=c('ZeroRewrites').rewriteURI(new (c('URI'))(l));return this;};k.prototype.getURI=function(){'use strict';return this.$XHRRequest2;};k.prototype.setResponseType=function(l){'use strict';this.$XHRRequest3=l;return this;};k.prototype.setMethod=function(l){'use strict';this.$XHRRequest4=l;return this;};k.prototype.getMethod=function(){'use strict';return this.$XHRRequest4;};k.prototype.setData=function(l){'use strict';this.$XHRRequest5=l;return this;};k.prototype.getData=function(){'use strict';return this.$XHRRequest5;};k.prototype.setRawData=function(l){'use strict';this.$XHRRequest6=l;return this;};k.prototype.setRequestHeader=function(l,m){'use strict';if(!this.$XHRRequest7)this.$XHRRequest7={};this.$XHRRequest7[l]=m;return this;};k.prototype.setTimeout=function(l){'use strict';this.$XHRRequest8=l;return this;};k.prototype.getTimeout=function(){'use strict';return this.$XHRRequest8;};k.prototype.setResponseHandler=function(l){'use strict';this.$XHRRequest9=l;return this;};k.prototype.getResponseHandler=function(){'use strict';return this.$XHRRequest9;};k.prototype.setErrorHandler=function(l){'use strict';this.$XHRRequest10=l;return this;};k.prototype.getErrorHandler=function(){'use strict';return this.$XHRRequest10;};k.prototype.setNetworkFailureHandler=function(l){'use strict';this.$XHRRequest11=l;return this;};k.prototype.getNetworkFailureHandler=function(){'use strict';return this.$XHRRequest11;};k.prototype.setAbortHandler=function(l){'use strict';this.$XHRRequest12=l;return this;};k.prototype.getAbortHandler=function(){'use strict';return this.$XHRRequest12;};k.prototype.setTimeoutHandler=function(l){'use strict';this.$XHRRequest13=l;return this;};k.prototype.setUploadProgressHandler=function(l){'use strict';this.$XHRRequest14=l;return this;};k.prototype.setDownloadProgressHandler=function(l){'use strict';this.$XHRRequest15=l;return this;};k.prototype.setTransportBuilder=function(l){'use strict';this.$XHRRequest16=l;return this;};k.prototype.setDataSerializer=function(l){'use strict';this.$XHRRequest17=l;return this;};k.prototype.send=function(){'use strict';var l=this.$XHRRequest8,m=this.$XHRRequest16(),n=this.getURI(),o=new (c('URI'))(n).getQualifiedURI().toString(),p=this.$XHRRequest1;c('ResourceTimingsStore').updateURI(c('ResourceTypes').XHR,p,o);c('ResourceTimingsStore').measureRequestSent(c('ResourceTypes').XHR,p);this.$XHRRequest18=m;var q;this.$XHRRequest4==='POST'||!this.$XHRRequest6||h(0);if(c('Env').force_param)Object.assign(this.$XHRRequest5,c('Env').force_param);if(this.$XHRRequest4==='GET'||this.$XHRRequest6){n.addQueryData(this.$XHRRequest5);q=this.$XHRRequest6;}else q=this.$XHRRequest17(this.$XHRRequest5);var r=c('TimeSlice').guard(function v(w){c('ResourceTimingsStore').measureResponseReceived(c('ResourceTypes').XHR,p);for(var x=arguments.length,y=Array(x>1?x-1:0),z=1;z<x;z++)y[z-1]=arguments[z];w.apply(this,y);},'XHRRequest response received',{isContinuation:true});m.onreadystatechange=this.$XHRRequest19(r);m.onerror=this.$XHRRequest20(r);if(m.upload&&this.$XHRRequest14)m.upload.onprogress=this.$XHRRequest21.bind(this);if(this.$XHRRequest15)m.onprogress=this.$XHRRequest22.bind(this);if(l)this.$XHRRequest23=setTimeout(this.$XHRRequest24.bind(this),l);if(this.$XHRRequest25!==null&&this.$XHRRequest25!==undefined)m.withCredentials=this.$XHRRequest25;m.open(this.$XHRRequest4,n.toString(),true);var s=false;if(this.$XHRRequest7)for(var t in this.$XHRRequest7){if(t.toLowerCase()==='content-type')s=true;m.setRequestHeader(t,this.$XHRRequest7[t]);}if(this.$XHRRequest4=='POST'&&!this.$XHRRequest6&&!s)m.setRequestHeader('Content-Type','application/x-www-form-urlencoded');var u=c('getAsyncHeaders')(n);Object.keys(u).forEach(function(v){m.setRequestHeader(v,u[v]);});if(this.$XHRRequest3==='arraybuffer')if('responseType' in m){m.responseType='arraybuffer';}else if('overrideMimeType' in m){m.overrideMimeType('text/plain; charset=x-user-defined');}else if('setRequestHeader' in m)m.setRequestHeader('Accept-Charset','x-user-defined');if(this.$XHRRequest3==='blob')m.responseType=this.$XHRRequest3;m.send(q);};k.prototype.abort=function(l){'use strict';this.$XHRRequest26();if(this.$XHRRequest12)c('ErrorUtils').applyWithGuard(this.$XHRRequest12,null,[l],null,'XHRRequest:_abortHandler');};k.prototype.$XHRRequest26=function(){'use strict';var l=this.$XHRRequest18;if(l){l.onreadystatechange=null;l.abort();}this.$XHRRequest27();};k.prototype.$XHRRequest24=function(){'use strict';this.$XHRRequest26();if(this.$XHRRequest13)c('ErrorUtils').applyWithGuard(this.$XHRRequest13,null,null,null,'XHRRequest:_abortHandler');};k.prototype.$XHRRequest28=function(l){'use strict';if(this.$XHRRequest3)if('response' in l){return l.response;}else if(this.$XHRRequest3==='arraybuffer')if(window.VBArray){return window.VBArray(l.responseBody).toArray();}return l.responseText;};k.prototype.$XHRRequest20=function(l){'use strict';return function(){var m={};m.errorCode=c('XHRHttpError').HTTP_TRANSPORT_ERROR;m.errorMsg='Network Failure.';m.errorType='Network';if(this.$XHRRequest11){c('ErrorUtils').applyWithGuard(l.bind(undefined,this.$XHRRequest11),null,[m],null,'XHRRequest:_networkFailureHandler');}else l(function(){});}.bind(this);};k.prototype.$XHRRequest19=function(l){'use strict';var m=c('TimeSlice').guard(function(n){for(var o=arguments.length,p=Array(o>1?o-1:0),q=1;q<o;q++)p[q-1]=arguments[q];return n.apply(this,p);},'XHRRequest onreadystatechange',{isContinuation:false});return function(){var n=this.$XHRRequest18,o=n.readyState;if(o>=2){var p=o===4,q=this.getURI(),r=c('XHRHttpError').getErrorCode(q,n.status),s=this.$XHRRequest9;if(r!==null){if(p){i.errorCode=r;i.errorMsg=this.$XHRRequest28(n);i.errorType=n.status?'HTTP '+n.status:'HTTP';if(this.$XHRRequest10){c('ErrorUtils').applyWithGuard(l.bind(undefined,this.$XHRRequest10),null,[i],null,'XHRRequest:_errorHandler');}else l(function(){});}}else if(s){var t=null;if(s.includeHeaders)t=n.getAllResponseHeaders();if(p||s.parseStreaming&&o===3){var u=p?l:m;c('ErrorUtils').applyWithGuard(u.bind(undefined,s),null,[this.$XHRRequest28(n),t,p],null,'XHRRequest:handler');}}else if(p)l(function(){});if(p)this.$XHRRequest27();}}.bind(this);};k.prototype.$XHRRequest21=function(l){'use strict';j.loadedBytes=l.loaded;j.totalBytes=l.total;if(this.$XHRRequest14)c('ErrorUtils').applyWithGuard(this.$XHRRequest14,null,[j],null,'XHRRequest:_uploadProgressHandler');};k.prototype.$XHRRequest22=function(l){'use strict';var m={loadedBytes:l.loaded,totalBytes:l.total};if(this.$XHRRequest15)c('ErrorUtils').applyWithGuard(this.$XHRRequest15,null,[m],null,'XHRRequest:_downloadProgressHandler');};k.prototype.$XHRRequest27=function(){'use strict';clearTimeout(this.$XHRRequest23);delete this.$XHRRequest18;};f.exports=k;}),null);
__d("regeneratorRuntime",["Promise"],(function a(b,c,d,e,f,g){"use strict";var h=Object.prototype.hasOwnProperty,i=typeof Symbol==="function"&&(typeof Symbol==="function"?Symbol.iterator:"@@iterator")||"@@iterator",j=f.exports;function k(ea,fa,ga,ha){var ia=Object.create((fa||r).prototype),ja=new ba(ha||[]);ia._invoke=y(ea,ga,ja);return ia;}j.wrap=k;function l(ea,fa,ga){try{return {type:"normal",arg:ea.call(fa,ga)};}catch(ha){return {type:"throw",arg:ha};}}var m="suspendedStart",n="suspendedYield",o="executing",p="completed",q={};function r(){}function s(){}function t(){}var u=t.prototype=r.prototype;s.prototype=u.constructor=t;t.constructor=s;s.displayName="GeneratorFunction";function v(ea){["next","throw","return"].forEach(function(fa){ea[fa]=function(ga){return this._invoke(fa,ga);};});}j.isGeneratorFunction=function(ea){var fa=typeof ea==="function"&&ea.constructor;return fa?fa===s||(fa.displayName||fa.name)==="GeneratorFunction":false;};j.mark=function(ea){if(Object.setPrototypeOf){Object.setPrototypeOf(ea,t);}else Object.assign(ea,t);ea.prototype=Object.create(u);return ea;};j.awrap=function(ea){return new w(ea);};function w(ea){this.arg=ea;}function x(ea){function fa(la,ma){var na=ea[la](ma),oa=na.value;return oa instanceof w?c("Promise").resolve(oa.arg).then(ga,ha):c("Promise").resolve(oa).then(function(pa){na.value=pa;return na;});}if(typeof process==="object"&&process.domain)fa=process.domain.bind(fa);var ga=fa.bind(ea,"next"),ha=fa.bind(ea,"throw"),ia=fa.bind(ea,"return"),ja;function ka(la,ma){var na=ja?ja.then(function(){return fa(la,ma);}):new (c("Promise"))(function(oa){oa(fa(la,ma));});ja=na["catch"](function(oa){});return na;}this._invoke=ka;}v(x.prototype);j.async=function(ea,fa,ga,ha){var ia=new x(k(ea,fa,ga,ha));return j.isGeneratorFunction(fa)?ia:ia.next().then(function(ja){return ja.done?ja.value:ia.next();});};function y(ea,fa,ga){var ha=m;return function ia(ja,ka){if(ha===o)throw new Error("Generator is already running");if(ha===p){if(ja==="throw")throw ka;return da();}while(true){var la=ga.delegate;if(la){if(ja==="return"||ja==="throw"&&la.iterator[ja]===undefined){ga.delegate=null;var ma=la.iterator["return"];if(ma){var na=l(ma,la.iterator,ka);if(na.type==="throw"){ja="throw";ka=na.arg;continue;}}if(ja==="return")continue;}var na=l(la.iterator[ja],la.iterator,ka);if(na.type==="throw"){ga.delegate=null;ja="throw";ka=na.arg;continue;}ja="next";ka=undefined;var oa=na.arg;if(oa.done){ga[la.resultName]=oa.value;ga.next=la.nextLoc;}else{ha=n;return oa;}ga.delegate=null;}if(ja==="next"){if(ha===n){ga.sent=ka;}else ga.sent=undefined;}else if(ja==="throw"){if(ha===m){ha=p;throw ka;}if(ga.dispatchException(ka)){ja="next";ka=undefined;}}else if(ja==="return")ga.abrupt("return",ka);ha=o;var na=l(ea,fa,ga);if(na.type==="normal"){ha=ga.done?p:n;var oa={value:na.arg,done:ga.done};if(na.arg===q){if(ga.delegate&&ja==="next")ka=undefined;}else return oa;}else if(na.type==="throw"){ha=p;ja="throw";ka=na.arg;}}};}v(u);u[i]=function(){return this;};u.toString=function(){return "[object Generator]";};function z(ea){var fa={tryLoc:ea[0]};if(1 in ea)fa.catchLoc=ea[1];if(2 in ea){fa.finallyLoc=ea[2];fa.afterLoc=ea[3];}this.tryEntries.push(fa);}function aa(ea){var fa=ea.completion||{};fa.type="normal";delete fa.arg;ea.completion=fa;}function ba(ea){this.tryEntries=[{tryLoc:"root"}];ea.forEach(z,this);this.reset(true);}j.keys=function(ea){var fa=[];for(var ga in ea)fa.push(ga);fa.reverse();return function ha(){while(fa.length){var ia=fa.pop();if(ia in ea){ha.value=ia;ha.done=false;return ha;}}ha.done=true;return ha;};};function ca(ea){if(ea){var fa=ea[i];if(fa)return fa.call(ea);if(typeof ea.next==="function")return ea;if(!isNaN(ea.length)){var ga=-1,ha=function ia(){while(++ga<ea.length)if(h.call(ea,ga)){ia.value=ea[ga];ia.done=false;return ia;}ia.value=undefined;ia.done=true;return ia;};return ha.next=ha;}}return {next:da};}j.values=ca;function da(){return {value:undefined,done:true};}ba.prototype={constructor:ba,reset:function ea(fa){this.prev=0;this.next=0;this.sent=undefined;this.done=false;this.delegate=null;this.tryEntries.forEach(aa);if(!fa)for(var ga in this)if(ga.charAt(0)==="t"&&h.call(this,ga)&&!isNaN(+ga.slice(1)))this[ga]=undefined;},stop:function ea(){this.done=true;var fa=this.tryEntries[0],ga=fa.completion;if(ga.type==="throw")throw ga.arg;return this.rval;},dispatchException:function ea(fa){if(this.done)throw fa;var ga=this;function ha(na,oa){ka.type="throw";ka.arg=fa;ga.next=na;return !!oa;}for(var ia=this.tryEntries.length-1;ia>=0;--ia){var ja=this.tryEntries[ia],ka=ja.completion;if(ja.tryLoc==="root")return ha("end");if(ja.tryLoc<=this.prev){var la=h.call(ja,"catchLoc"),ma=h.call(ja,"finallyLoc");if(la&&ma){if(this.prev<ja.catchLoc){return ha(ja.catchLoc,true);}else if(this.prev<ja.finallyLoc)return ha(ja.finallyLoc);}else if(la){if(this.prev<ja.catchLoc)return ha(ja.catchLoc,true);}else if(ma){if(this.prev<ja.finallyLoc)return ha(ja.finallyLoc);}else throw new Error("try statement without catch or finally");}}},abrupt:function ea(fa,ga){for(var ha=this.tryEntries.length-1;ha>=0;--ha){var ia=this.tryEntries[ha];if(ia.tryLoc<=this.prev&&h.call(ia,"finallyLoc")&&this.prev<ia.finallyLoc){var ja=ia;break;}}if(ja&&(fa==="break"||fa==="continue")&&ja.tryLoc<=ga&&ga<=ja.finallyLoc)ja=null;var ka=ja?ja.completion:{};ka.type=fa;ka.arg=ga;if(ja){this.next=ja.finallyLoc;}else this.complete(ka);return q;},complete:function ea(fa,ga){if(fa.type==="throw")throw fa.arg;if(fa.type==="break"||fa.type==="continue"){this.next=fa.arg;}else if(fa.type==="return"){this.rval=fa.arg;this.next="end";}else if(fa.type==="normal"&&ga)this.next=ga;},finish:function ea(fa){for(var ga=this.tryEntries.length-1;ga>=0;--ga){var ha=this.tryEntries[ga];if(ha.finallyLoc===fa){this.complete(ha.completion,ha.afterLoc);aa(ha);return q;}}},"catch":function ea(fa){for(var ga=this.tryEntries.length-1;ga>=0;--ga){var ha=this.tryEntries[ga];if(ha.tryLoc===fa){var ia=ha.completion;if(ia.type==="throw"){var ja=ia.arg;aa(ha);}return ja;}}throw new Error("illegal catch attempt");},delegateYield:function ea(fa,ga,ha){this.delegate={iterator:ca(fa),resultName:ga,nextLoc:ha};return q;}};}),null);
__d('VideoDashPrefetchCache',['Promise','regeneratorRuntime','Deferred','Map','PriorityJobQueue','Run','URI','VideoPlayerResourceTimer','VideoPlayerShakaBandwidthEstimator','VideoPlayerShakaError','VideoPlayerShakaExperiments','XHRRequest','getCrossOriginTransport','performanceNow'],(function a(b,c,d,e,f,g){var h=window.Promise||c('Promise');c('Promise').resolve();var i=null;function j(q){var r=new (c('URI'))(q),s=r.getDomain();return s.endsWith('fbcdn.net')&&!s.startsWith('interncache')&&!s.endsWith('ak.fbcdn.net');}function k(q){var r=arguments.length<=1||arguments[1]===undefined?false:arguments[1];return r&&j(q)?c('getCrossOriginTransport').withCredentials:c('getCrossOriginTransport');}function l(q){return j(q.url);}function m(q,r,s){return {response:q.slice(r.start+0,r.end+1),responseTime:s};}function n(q,r,s){'use strict';this.$UrlRequestJob1=q;this.$UrlRequestJob2=r;this.$UrlRequestJob5=s;var t=new (c('XHRRequest'))(this.$UrlRequestJob2).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(k(r));this.$UrlRequestJob3=new h(function(u,v){t.setErrorHandler(function(w){v(c('VideoPlayerShakaError').translateError(w,this.$UrlRequestJob2,'preload'));}.bind(this));t.setResponseHandler(function(w){t.response=w;u(t);});t.setAbortHandler(function(){v(this.$UrlRequestJob3,new Error('Request promise aborted'));}.bind(this));}.bind(this));this.$UrlRequestJob4=t;}n.prototype.getUrl=function(){'use strict';return this.$UrlRequestJob2;};n.prototype.getPromise=function(){'use strict';return this.$UrlRequestJob3;};n.prototype.start=function(){'use strict';this.$UrlRequestJob4.send();};n.prototype.abort=function(){'use strict';this.$UrlRequestJob4.abort();};n.prototype.getPriority=function(q){'use strict';return 1/Math.min(this.$UrlRequestJob5,1)/Math.min(q,1);};n.prototype.getJobID=function(){'use strict';return this.$UrlRequestJob1;};function o(q){var r=new (c('URI'))(q);if(r.getDomain()){r=r.removeQueryData(['oh']);r=r.removeQueryData('__gda__');for(var s=Object.keys(r.getQueryData()),t=Array.isArray(s),u=0,s=t?s:s[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var v;if(t){if(u>=s.length)break;v=s[u++];}else{u=s.next();if(u.done)break;v=u.value;}var w=v;if(w.startsWith('_nc'))r=r.removeQueryData(w);}return r.toString();}return q;}function p(){'use strict';this.$VideoDashPrefetchCache2=new (c('Map'))();this.$VideoDashPrefetchCache1=new (c('Map'))();this.$VideoDashPrefetchCache3=new (c('Map'))();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache7=c('VideoPlayerShakaExperiments').maxPrefetchVideosNum;this.$VideoDashPrefetchCache8=c('VideoPlayerShakaExperiments').consolidateFragmentedPrefetchRequest;}p.prototype.$VideoDashPrefetchCache9=function(q){var r=arguments.length<=1||arguments[1]===undefined?{}:arguments[1],s=arguments.length<=2||arguments[2]===undefined?0:arguments[2],t=arguments.length<=3||arguments[3]===undefined?false:arguments[3];'use strict';var u=q;if(Object.keys(r))u=new (c('URI'))(q).addQueryData(r).toString();var v=new (c('XHRRequest'))(u).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(k(u,t)),w=c('performanceNow')();this.$VideoDashPrefetchCache2['delete'](q);var x=new h(function(y,z){v.setErrorHandler(function(aa){this.$VideoDashPrefetchCache10(v);z(c('VideoPlayerShakaError').translateError(aa,u,'preload'));}.bind(this));v.setResponseHandler(function(aa){if(c('VideoPlayerShakaExperiments').enableResourceTimingForPrefetchCache){var ba=c('VideoPlayerResourceTimer').getResourceTimingEntry(q,w,c('performanceNow')());if(ba)this.$VideoDashPrefetchCache2.set(o(q),ba);}v.response=aa;this.$VideoDashPrefetchCache10(v);y(v);}.bind(this));v.setAbortHandler(function(){if(c('VideoPlayerShakaExperiments').fixPrefetchCacheAbort){z(new Error('Request aborted'));}else z(x,new Error('Request promise aborted'));});}.bind(this));this.$VideoDashPrefetchCache11(q,x,s);this.$VideoDashPrefetchCache4.push(v);v.send();return x;};p.prototype.$VideoDashPrefetchCache11=function(q,r){var s=arguments.length<=2||arguments[2]===undefined?3600000:arguments[2];'use strict';this.$VideoDashPrefetchCache12(q);if(s>0)this.$VideoDashPrefetchCache3.set(o(q),setTimeout(function(){return this.$VideoDashPrefetchCache12(q);}.bind(this),s));this.$VideoDashPrefetchCache13(q,r);};p.prototype.genPrfetchMpdNow=function q(r,s,t){var u,v;return c('regeneratorRuntime').async(function w(x){while(1)switch(x.prev=x.next){case 0:'use strict';if(!this.has(s)){x.next=3;break;}return x.abrupt('return',null);case 3:u=t.getURL();v=new n(r,u,0);this.$VideoDashPrefetchCache11(s,v.getPromise());v.start();x.next=9;return c('regeneratorRuntime').awrap(v.getPromise());case 9:return x.abrupt('return',null);case 10:case 'end':return x.stop();}},null,this);};p.prototype.queueRequestFromMouseMovement=function(q,r,s,t,u){var v=arguments.length<=5||arguments[5]===undefined?function(){}:arguments[5],w=arguments.length<=6||arguments[6]===undefined?function(){}:arguments[6];'use strict';var x=c('PriorityJobQueue').get(),y=this.$VideoDashPrefetchCache14(r);if(y){y.then(w).done();return;}var z=s.getURL(),aa=new n(q,z,t);aa.getPromise().then(w)['catch'](function(){return this.getAndDelete(r);}.bind(this));x.enqueue(aa,function(){this.$VideoDashPrefetchCache11(r,aa.getPromise(),u);v();}.bind(this));};p.prototype.cancelRequestFromMouseMovement=function(q){'use strict';c('PriorityJobQueue').get().abort(q);};p.prototype.$VideoDashPrefetchCache12=function(q,r){'use strict';this.getAndDelete(q,r);if(this.$VideoDashPrefetchCache3.has(q)){clearTimeout(this.$VideoDashPrefetchCache3.get(q));this.$VideoDashPrefetchCache3['delete'](q);}};p.prototype.$VideoDashPrefetchCache15=function(q){var r=arguments.length<=1||arguments[1]===undefined?false:arguments[1];'use strict';var s=[];for(var t=0;t<q.length;t++){var u=p.createQueryStringURL(q[t]);if(!this.has(u))s.push(this.$VideoDashPrefetchCache9(u,undefined,undefined,r));}return s;};p.prototype.$VideoDashPrefetchCache16=function(q){'use strict';var r=p.getConsolidatedURL(q);if(r==null)return this.$VideoDashPrefetchCache15(q);var s=new (c('XHRRequest'))(r).setMethod('GET').setResponseType('arraybuffer').setTransportBuilder(k(r)),t=Date.now(),u=[];for(var v=0;v<q.length;v++){var w=p.createQueryStringURL(q[v]),x=new (c('Deferred'))();if(!this.has(w))this.$VideoDashPrefetchCache13(w,x.getPromise());u.push(x);}s.setErrorHandler(function(y){this.$VideoDashPrefetchCache10(s);for(var z=0;z<u.length;z++)u[z].reject(c('VideoPlayerShakaError').translateError(y,r,'preload'));}.bind(this));s.setResponseHandler(function(y){var z=Date.now()-t;for(var aa=0;aa<q.length;aa++){var ba=u[aa],ca=q[aa];ba.resolve(m(y,ca,z));}this.$VideoDashPrefetchCache10(s);}.bind(this));s.setAbortHandler(function(){for(var y=0;y<q.length;y++){var z=u[y];z.reject(new Error('Request aborted.'));}});this.$VideoDashPrefetchCache4.push(s);s.send();return u.map(function(y){return y.getPromise();});};p.prototype.$VideoDashPrefetchCache17=function(q){'use strict';var r=q.useCredentials;this.$VideoDashPrefetchCache6++;var s=this.$VideoDashPrefetchCache8&&!r,t=s?this.$VideoDashPrefetchCache16(q.video):this.$VideoDashPrefetchCache15(q.video,r),u=s?this.$VideoDashPrefetchCache16(q.audio):this.$VideoDashPrefetchCache15(q.audio,r),v=this.$VideoDashPrefetchCache15(q.manifest,r),w=t.concat(u,v);h.all(w).then(function(){return this.$VideoDashPrefetchCache18();}.bind(this))['catch'](function(){return this.$VideoDashPrefetchCache18();}.bind(this));};p.prototype.$VideoDashPrefetchCache13=function(q,r){'use strict';q=o(q);if(this.$VideoDashPrefetchCache1.values().next().done)c('Run').onLeave(function(){for(var s=0;s<this.$VideoDashPrefetchCache4.length;s++)this.$VideoDashPrefetchCache4[s].abort();this.$VideoDashPrefetchCache4=[];this.$VideoDashPrefetchCache5=[];this.$VideoDashPrefetchCache6=0;this.$VideoDashPrefetchCache1.clear();}.bind(this));this.$VideoDashPrefetchCache1.set(q,r);};p.prototype.$VideoDashPrefetchCache10=function(q){'use strict';var r=this.$VideoDashPrefetchCache4.indexOf(q);if(r>-1)this.$VideoDashPrefetchCache4.splice(r,1);};p.prototype.$VideoDashPrefetchCache18=function(){'use strict';this.$VideoDashPrefetchCache6--;var q=this.$VideoDashPrefetchCache5.shift();if(q)this.$VideoDashPrefetchCache17(q);};p.prototype.has=function(q){'use strict';q=o(q);return this.$VideoDashPrefetchCache1.has(q);};p.prototype.getAndDelete=function(q,r){'use strict';q=o(q);var s=this.$VideoDashPrefetchCache1.get(q);if(s&&r){var t=this.$VideoDashPrefetchCache2.get(q);r(t);}this.$VideoDashPrefetchCache1['delete'](q);return s;};p.prototype.$VideoDashPrefetchCache14=function(q){'use strict';q=o(q);var r=this.$VideoDashPrefetchCache1.get(q);return r;};p.prototype.queueRequestBatch=function(q){'use strict';if(this.$VideoDashPrefetchCache7===0||this.$VideoDashPrefetchCache6<this.$VideoDashPrefetchCache7){this.$VideoDashPrefetchCache17(q);}else this.$VideoDashPrefetchCache5.push(q);};p.getInstance=function(){'use strict';if(i===null)i=new p();return i;};p.createQueryStringURL=function(q){'use strict';var r=q.url,s=q.start,t=q.end;if(s!==null&&s!==undefined&&t!==null&&t!==undefined)r=new (c('URI'))(r).addQueryData({bytestart:s,byteend:t});return r.toString();};p.getConsolidatedURL=function(q){'use strict';var r='',s=Infinity,t=0;for(var u=0;u<q.length;u++){var v=q[u],w=v.url,x=v.start,y=v.end;if(w==null||x==null||y==null)return null;if(r===''){r=w;}else if(r!==w)return null;s=Math.min(s,x);t=Math.max(t,y);}return p.createQueryStringURL({url:r,start:s,end:t});};p.loadVideo=function(q,r){'use strict';r=!!r;if(c('VideoPlayerShakaBandwidthEstimator').isAutoplayBandwidthRestrained())return;if(c('VideoPlayerShakaExperiments').disablePrefetchCache)return;var s=p.getInstance();if(!q.manifest)q.manifest=[];s.queueRequestBatch({manifest:q.manifest.filter(l),video:q.video.filter(l),audio:q.audio.filter(l),useCredentials:r});};p.getCacheValue=function(q,r){'use strict';return p.getInstance().getAndDelete(q,r);};p.hasCacheValue=function(q){'use strict';return p.getInstance().has(q);};f.exports=p;}),null);
__d('VideoDisplayTimePlayButton',['CSS','DataStore','Event'],(function a(b,c,d,e,f,g){var h={},i='_spinner',j={getClicked:function k(l){return c('DataStore').get(l,'clicked',false);},register:function k(l,m){var n=l.id;h[n]=c('Event').listen(l,'click',function(){if(m){c('CSS').hide(l);c('CSS').show(m);}c('DataStore').set(l,'clicked',true);});if(m)h[n+i]=c('Event').listen(m,'click',function(){if(m)c('CSS').hide(m);c('CSS').show(l);c('DataStore').set(l,'clicked',false);});},unregister:function k(l){var m=l.id;if(Object.prototype.hasOwnProperty.call(h,m))h[m].remove();var n=m+i;if(Object.prototype.hasOwnProperty.call(h,n))h[n].remove();}};f.exports=j;}),null);
__d("XVideoQualitySurveyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/video\/quality_survey\/",{videoid:{type:"String"},__asyncDialog:{type:"Int"}});}),null);
__d('VideoPlayButton',['AsyncRequest','CSS','EventListener','VideoDisplayTimePlayButton','VideoPlayerLoggerSource','XVideoQualitySurveyController'],(function a(b,c,d,e,f,g){function h(i,j,k){'use strict';this.$VideoPlayButton1=i;this.$VideoPlayButton2=j;if(k){this.$VideoPlayButton3=k.hiddenAfterFinish;this.$VideoPlayButton4=k.hiddenWhilePaused;this.$VideoPlayButton5=!!k.hiddenInFallback;this.$VideoPlayButton5=k.hiddenInFallback;this.$VideoPlayButton6=k.spherical;}var l=c('VideoDisplayTimePlayButton').getClicked(this.$VideoPlayButton2);c('VideoDisplayTimePlayButton').unregister(this.$VideoPlayButton2);i.addListener('beginPlayback',this.$VideoPlayButton7.bind(this));i.addListener('finishPlayback',this.$VideoPlayButton8.bind(this));i.addListener('pausePlayback',this.$VideoPlayButton9.bind(this));i.addListener('buffering',this.$VideoPlayButton10.bind(this));i.addListener('buffered',this.$VideoPlayButton11.bind(this));i.addListener('stateChange',this.$VideoPlayButton12.bind(this));i.addListener('playRequested',this.$VideoPlayButton13.bind(this));i.addListener('VideoChannelController/exitChannel',this.$VideoPlayButton14.bind(this));i.addListener('clickVideo',this.$VideoPlayButton15.bind(this));c('EventListener').listen(this.$VideoPlayButton2,'click',this.$VideoPlayButton16.bind(this));if(k&&k.hiddenWhileJSLoading&&!k.hiddenWhileVideoLoading)c('CSS').show(this.$VideoPlayButton2);if(l)this.$VideoPlayButton16();}h.prototype.$VideoPlayButton12=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))if(this.$VideoPlayButton5||this.$VideoPlayButton1.getIsInChannel()){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton7=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton9=function(){'use strict';if(this.$VideoPlayButton4)return;c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton13=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton14=function(){'use strict';if(this.$VideoPlayButton1.isState('paused')&&(!this.$VideoPlayButton4||this.$VideoPlayButton6)||this.$VideoPlayButton1.isState('finished')&&!this.$VideoPlayButton3)c('CSS').show(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton8=function(){'use strict';var i=this.$VideoPlayButton1.getOption('Looping','isLooping');if(this.$VideoPlayButton3||this.$VideoPlayButton1.getIsInChannel()||this.$VideoPlayButton1.getSource()===c('VideoPlayerLoggerSource').TAHOE||i){c('CSS').hide(this.$VideoPlayButton2);}else c('CSS').show(this.$VideoPlayButton2);if(!this.$VideoPlayButton1.getIsInChannel()&&!this.$VideoPlayButton1.isAd()&&!this.$VideoPlayButton1.hasOption('WatchAndScroll','isActive')&&!this.$VideoPlayButton1.isMuted()&&this.$VideoPlayButton1.getSource()!==c('VideoPlayerLoggerSource').MESSAGING){var j=c('XVideoQualitySurveyController').getURIBuilder().setString('videoid',this.$VideoPlayButton1.getVideoID()).getURI(),k=new (c('AsyncRequest'))().setURI(j);k.send();}};h.prototype.$VideoPlayButton10=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton11=function(){'use strict';c('CSS').hide(this.$VideoPlayButton2);};h.prototype.$VideoPlayButton16=function(){'use strict';this.$VideoPlayButton1.clickVideo();};h.prototype.$VideoPlayButton15=function(){'use strict';if(this.$VideoPlayButton1.isState('fallback'))return;c('CSS').hide(this.$VideoPlayButton2);};f.exports=h;}),null);
__d('VideosRenderingInstrumentation',['DataStore','VideoPlayerHTML5Experiments','performanceAbsoluteNow'],(function a(b,c,d,e,f,g){var h={storeRenderTime:function i(j){var k=c('VideoPlayerHTML5Experiments').useMonotonicallyIncreasingTimers?c('performanceAbsoluteNow')():Date.now();c('DataStore').set(j,'videos_rendering_instrumentation',k);return k;},retrieveRenderTime:function i(j){var k=c('DataStore').get(j,'videos_rendering_instrumentation',NaN);if(Number.isNaN(k))k=h.storeRenderTime(j);return k;}};f.exports=h;}),null);