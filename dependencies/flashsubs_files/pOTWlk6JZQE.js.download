if (self.CavalryLogger) { CavalryLogger.start_js(["2TzXv"]); }

__d('messengerUploadFilesUtilRe',['bs_array','bs_curry','bs_js_primitive','FantaTypeFileUploader'],(function a(b,c,d,e,f,g){'use strict';var h,i=(h={},h[c('FantaTypeFileUploader').fileTypes.ANIMATED_IMAGE]='gif_ids',h[c('FantaTypeFileUploader').fileTypes.AUDIO]='audio_ids',h[c('FantaTypeFileUploader').fileTypes.FILE]='file_ids',h[c('FantaTypeFileUploader').fileTypes.GENERIC_ATTACHMENT]='generic_attachment_ids',h[c('FantaTypeFileUploader').fileTypes.IMAGE]='image_ids',h[c('FantaTypeFileUploader').fileTypes.VIDEO]='video_ids',h);function j(n,o){if(c('bs_js_primitive').is_nil_undef(n)){return null;}else{var p=n.getTypeIDs(o);if(p.length){return p;}else return null;}}function k(n){if(c('bs_js_primitive').is_nil_undef(n)){return 0;}else{var o=n.get("uploadedFiles"),p=[],q=[],r=[];o.forEach(function(s,t,u){var v=s.file;if(v.type.startsWith("image/")){p.push(v);return 0;}else if(v.type.startsWith("video/")){q.push(v);return 0;}else{r.push(v);return 0;}});return [[p,q,r]];}}function l(n,o){if(o.length){return c('bs_curry')._1(n,o);}else return 0;}function m(n,o){if(c('bs_js_primitive').is_nil_undef(n)){return 0;}else if(c('bs_js_primitive').is_nil_undef(o)){return 0;}else{var p=k(n);if(p){var q=p[0];c('bs_array').iter(function(r){return l(o,[r]);},q[1]);l(o,q[0]);return l(o,q[2]);}else return 0;}}g.supportAttachments=i;g.getAttachmentIDs=j;g.getAttachments=k;g.sendAttchment=l;g.sendAttchments=m;}),null);